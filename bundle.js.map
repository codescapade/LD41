{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/actor.ts","src/actorType.ts","src/gbl.ts","src/main.ts","src/matchColor.ts","src/snake.ts","src/states/bootState.ts","src/states/gameState.ts","src/states/preloadState.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;ACCA,oBAA4B;AAC5B,2BAA0C,AAE1C;;IAAmB;;;AAUjB,mBAAa,AAAgB,MAAE,AAAY;AACzC,AAAK;;kHAAC,AAAI,MAAE,AAAC,GAAE,AAAC,AAAC,AAAC;;AAClB,AAAI,cAAC,AAAM,SAAG,AAAK,AAAC;AACpB,AAAI,cAAC,AAAW,YAAC,AAAI,MAAC,AAAM,AAAC,AAAC;AAC9B,AAAI,cAAC,AAAY,eAAG,IAAI,AAAM,OAAC,AAAK,AAAE,AAAC;AACvC,AAAI,cAAC,AAAM,OAAC,AAAG,IAAC,AAAG,AAAC,AAAC;AACrB,AAAI,aAAC,AAAG,IAAC,AAAQ,AAAC,AAAI,AAAC,AAAC,AAC1B;;AAAC,AAEM,AAAI;;;;6BAAE,AAAQ,GAAE,AAAQ,GAAE,AAAgB,OAAE,AAAmB,WAAE,AAAa;AACnF,AAAI,iBAAC,AAAc,eAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAC1B,AAAI,iBAAC,AAAK,QAAG,AAAK,AAAC;AACnB,AAAI,iBAAC,AAAU,aAAG,AAAS,AAAC;AAC5B,AAAI,iBAAC,AAAW,YAAC,AAAM,AAAC,AAAC,AAC3B;AAAC,AAEM,AAAc;;;uCAAE,AAAQ,GAAE,AAAQ;AACvC,AAAI,iBAAC,AAAY,aAAC,AAAC,IAAG,AAAC,AAAC;AACxB,AAAI,iBAAC,AAAY,aAAC,AAAC,IAAG,AAAC,AAAC;AACxB,gBAAM,AAAQ,WAAgB,MAAG,IAAC,AAAW,YAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AACpD,AAAI,iBAAC,AAAC,IAAG,AAAQ,SAAC,AAAC,AAAC;AACpB,AAAI,iBAAC,AAAC,IAAG,AAAQ,SAAC,AAAC,AAAC,AACtB;AAAC,AAEM,AAAW;;;oCAAE,AAAa;AAC/B,AAAI,iBAAC,AAAS,YAAG,AAAI,KAAC,AAAe,gBAAC,AAAM,AAAC,AAAC,AAChD;AAAC,AAEM,AAAe;;;wCAAE,AAAW;AACjC,gBAAI,AAAU,aAAU,AAAI,AAAC;AAE7B,oBAAQ,AAAI,KAAC,AAAK,AAAE;AAClB,qBAAK,aAAU,WAAC,AAAI;AAClB,AAAU,kCAAI,AAAO,AAAC;AACtB,AAAM;AAER,qBAAK,aAAU,WAAC,AAAK;AACnB,AAAU,kCAAI,AAAQ,AAAC;AACvB,AAAM;AAER,qBAAK,aAAU,WAAC,AAAG;AACjB,AAAU,kCAAI,AAAM,AAAC;AACrB,AAAM;AAER,qBAAK,aAAU,WAAC,AAAM;AACpB,AAAU,kCAAI,AAAS,AAAC;AACxB,AAAM,AACT;;AAED,mBAAO,AAAU,AAAC,AACpB;AAAC,AAEF;;;;EA9D0B,AAAM,OAAC,AAAM;;AAAxC,gBA8DC;;;;;;ACjED,IAAY,AAIX;AAJD,WAAY,AAAS;AACnB,uCAAI;AACJ,uCAAI;AACJ,yCAAM,AACR;AAAC,GAJW,AAAS,YAAT,QAAS,cAAT,QAAS,YAIpB;;;;;;;;;sDCJD;;IASS,AAAM,AAAC,AAAI;;;;;;;6BAAE,AAAgB,WAAE,AAAiB,YAAE,AAAmB;AAC1E,AAAG,gBAAC,AAAS,YAAG,AAAS,AAAC;AAC1B,AAAG,gBAAC,AAAU,aAAG,AAAU,AAAC;AAE5B,AAAG,gBAAC,AAAK,QAAG,AAAM,OAAC,AAAC,IAAG,AAAS,YAAG,AAAG,IAAC,AAAQ,WAAG,AAAG,MAAG,AAAG,IAAC,AAAQ,WAAG,AAAG,AAAC;AAC3E,AAAG,gBAAC,AAAK,QAAG,AAAM,OAAC,AAAC,IAAG,AAAU,aAAG,AAAG,IAAC,AAAQ,WAAG,AAAG,MAAG,AAAG,IAAC,AAAQ,WAAG,AAAG,AAAC,AAC9E;AAAC,AAEM,AAAM,AAAC,AAAW;;;oCAAE,AAAQ,GAAE,AAAQ;AAC3C,mBAAO,IAAI,AAAM,OAAC,AAAK,MAAC,AAAG,IAAC,AAAK,QAAG,AAAC,IAAG,AAAG,IAAC,AAAQ,UAAE,AAAG,IAAC,AAAK,QAAG,AAAC,IAAG,AAAG,IAAC,AAAQ,AAAC,AAAC,AACtF;AAAC,AAEM,AAAM,AAAC,AAAW;;;oCAAE,AAAQ,GAAE,AAAQ;AAC3C,mBAAO,IAAI,AAAM,OAAC,AAAK,MAAC,AAAI,KAAC,AAAK,MAAC,CAAC,AAAC,IAAG,AAAG,IAAC,AAAK,AAAC,SAAG,AAAG,IAAC,AAAQ,AAAC,WAAE,AAAI,KAAC,AAAK,MAAC,CAAC,AAAC,IAAG,AAAG,IAAC,AAAK,AAAC,SAAG,AAAG,IAAC,AAAQ,AAAC,AAAC,AAAC,AAClH;AAAC;;;;;;AAtBsB,IAAQ,WAAU,AAAE,AAAC;AAD9C,cAwBC;;;;;;;;;;;;ACxBD,0BAA+C;AAC/C,0BAA+C;AAC/C,6BAAqD,AAErD;;IAAW;;;AAET;AACE,AAAK;;gHAAC,AAAG,KAAE,AAAG,KAAE,AAAM,OAAC,AAAI,MAAE,AAAW,AAAC,AAAC;;AAE1C,AAAI,cAAC,AAAK,MAAC,AAAG,IAAC,AAAM,QAAE,YAAS,AAAC,AAAC;AAClC,AAAI,cAAC,AAAK,MAAC,AAAG,IAAC,AAAS,WAAE,eAAY,AAAC,AAAC;AACxC,AAAI,cAAC,AAAK,MAAC,AAAG,IAAC,AAAM,QAAE,YAAS,AAAC,AAAC;AAElC,AAAI,cAAC,AAAK,MAAC,AAAK,MAAC,AAAM,AAAC,AAAC,AAE3B;;AAAC,MAAC,AAAc,AAEjB;;;;EAbkB,AAAM,OAAC,AAAI,OAa5B,AAAO;;;AAET,AAAM,OAAC,AAAM,SAAG,AAAG,AAAE;AACnB,QAAI,AAAI,AAAE,AAAC,AACb;AAAC,AAAC;;;;;;ACtBF,IAAY,AAKX;AALD,WAAY,AAAU;AACpB,yCAAI;AACJ,0CAAK;AACL,wCAAG;AACH,2CAAM,AACR;AAAC,GALW,AAAU,aAAV,QAAU,eAAV,QAAU,aAKrB;;;;;;;;;;ACLD,sBAAgC;AAChC,0BAAwC,AAIxC;;;AAUE,mBAAa,AAAe,OAAE,AAAQ,GAAE,AAAQ,GAAE,AAAa;;;AAJ9C,aAAI,OAAgB,IAAI,AAAM,OAAC,AAAK,MAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAK1D,AAAI,aAAC,AAAM,SAAG,AAAK,AAAC;AACpB,AAAI,aAAC,AAAK,QAAG,AAAE,AAAC;AAChB,AAAI,aAAC,AAAiB,oBAAG,IAAI,AAAM,OAAC,AAAK,MAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAEhD,aAAK,IAAI,AAAC,IAAU,AAAC,GAAE,AAAC,IAAG,AAAM,QAAE,AAAC,AAAE,KAAE;AACtC,gBAAM,AAAI,OAAS,IAAI,QAAK,MAAC,AAAK,MAAC,AAAI,MAAE,AAAS,AAAC,AAAC;AACpD,gBAAM,AAAK,QAAc,AAAI,KAAC,AAAY,AAAE,AAAC;AAC7C,gBAAI,AAAC,MAAK,AAAC,GAAE;AACX,AAAI,qBAAC,AAAI,KAAC,AAAC,GAAE,AAAC,IAAG,AAAC,GAAE,AAAK,OAAE,YAAS,UAAC,AAAI,MAAE,AAAU,AAAC,AAAC;AACvD,AAAI,qBAAC,AAAK,QAAG,AAAG,AAAC;AAClB,uBAAU,AAAC,MAAK,AAAM,SAAG,AAAC,GAAE;AAC3B,AAAI,qBAAC,AAAI,KAAC,AAAC,GAAE,AAAC,IAAG,AAAC,GAAE,AAAK,OAAE,YAAS,UAAC,AAAI,MAAE,AAAU,AAAC,AAAC;AACxD,aAFM,MAEA;AACL,AAAI,qBAAC,AAAI,KAAC,AAAC,GAAE,AAAC,IAAG,AAAC,GAAE,AAAK,OAAE,YAAS,UAAC,AAAI,MAAE,AAAa,AAAC,AAAC;AAC3D;AACD,AAAI,iBAAC,AAAK,MAAC,AAAI,KAAC,AAAI,AAAC,AAAC;AACvB,AACH;AAAC,AAEM,AAAW;;;;oCAAE,AAAyB;AAC3C,gBAAI,AAAI,KAAC,AAAe,gBAAC,AAAY,AAAC,eAAE;AACtC,AAAI,qBAAC,AAAiB,kBAAC,AAAG,IAAC,AAAY,aAAC,AAAC,GAAE,AAAY,aAAC,AAAC,AAAC,AAAC;AAC5D;AAED,gBAAM,AAAM,SAAgB,IAAI,AAAM,OAAC,AAAK,AAAE,AAAC;AAC/C,gBAAM,AAAM,SAAgB,AAAM,OAAC,AAAK,MAAC,AAAG,IAAC,AAAI,KAAC,AAAK,MAAC,AAAC,AAAC,GAAC,AAAY,cAAE,AAAI,KAAC,AAAiB,AAAC,AAAC;;;;;;AAEjG,AAAK,qCAAc,AAAI,KAAC,AAAK;AAAE,wBAApB,AAAI;;AACb,AAAM,2BAAC,AAAC,IAAG,AAAI,KAAC,AAAY,aAAC,AAAC,AAAC;AAC/B,AAAM,2BAAC,AAAC,IAAG,AAAI,KAAC,AAAY,aAAC,AAAC,AAAC;AAC/B,AAAI,yBAAC,AAAc,eAAC,AAAM,OAAC,AAAC,GAAE,AAAM,OAAC,AAAC,AAAC,AAAC;AACxC,AAAM,2BAAC,AAAC,IAAG,AAAM,OAAC,AAAC,AAAC;AACpB,AAAM,2BAAC,AAAC,IAAG,AAAM,OAAC,AAAC,AAAC;AACrB;;;;;;;;;;;;;;;;AACD,AAAI,iBAAC,AAAa,AAAE,AAAC,AACvB;AAAC,AAEM,AAAa;;;;AAClB,iBAAK,IAAI,AAAC,IAAU,AAAC,GAAE,AAAC,IAAG,AAAI,KAAC,AAAK,MAAC,AAAM,QAAE,AAAC,AAAE,KAAE;AACjD,oBAAM,AAAI,OAAS,AAAI,KAAC,AAAK,MAAC,AAAC,AAAC,AAAC;AACjC,AAAI,qBAAC,AAAU,WAAC,AAAC,GAAE,AAAI,AAAC,AAAC;AAC1B,AACH;AAAC,AAEO,AAAU;;;mCAAE,AAAY,OAAE,AAAU;AAC1C,gBAAM,AAAG,MAAgB,AAAI,KAAC,AAAK,MAAC,AAAK,AAAC,OAAC,AAAY,AAAC;AACxD,gBAAI,AAAoB,AAAC;AACzB,gBAAI,AAAoB,AAAC;AACzB,gBAAI,AAAK,UAAK,AAAC,GAAE;AACf,oBAAI,AAAI,KAAC,AAAK,MAAC,AAAM,WAAK,AAAC,GAAE;AAC3B,wBAAI,AAAI,KAAC,AAAU,eAAK,YAAS,UAAC,AAAI,MAAE;AACtC,AAAI,6BAAC,AAAW,YAAC,AAAa,AAAC,AAAC;AACjC,2BAAM;AACL,AAAI,6BAAC,AAAW,YAAC,AAAa,AAAC,AAAC;AACjC;AACF,uBAAM;AACL,AAAO,8BAAG,AAAI,KAAC,AAAK,MAAC,AAAK,QAAG,AAAC,AAAC,GAAC,AAAY,AAAC;AAC7C,wBAAI,AAAI,KAAC,AAAU,eAAK,YAAS,UAAC,AAAI,MAAE;AACtC,AAAI,6BAAC,AAAW,YAAC,AAAU,AAAC,AAAC;AAC9B,2BAAM;AACL,AAAI,6BAAC,AAAW,YAAC,AAAU,AAAC,AAAC;AAC9B;AACD,wBAAI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AACrB,AAAI,6BAAC,AAAK,QAAG,AAAG,AAAC;AAClB,+BAAU,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,6BAAC,AAAK,QAAG,AAAE,AAAC;AACjB,qBAFM,UAEI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,6BAAC,AAAK,QAAG,AAAC,AAAC;AAChB,qBAFM,MAEA,IAAI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,6BAAC,AAAK,QAAG,AAAG,AAAC;AAClB;AACF;AACF,uBAAU,AAAK,UAAK,AAAI,KAAC,AAAK,MAAC,AAAM,SAAG,AAAC,GAAE;AAC1C,AAAO,0BAAG,AAAI,KAAC,AAAK,MAAC,AAAK,QAAG,AAAC,AAAC,GAAC,AAAY,AAAC;AAC7C,AAAI,qBAAC,AAAW,YAAC,AAAU,AAAC,AAAC;AAC7B,oBAAI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AACrB,AAAI,yBAAC,AAAK,QAAG,AAAG,AAAC;AAClB,2BAAU,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,yBAAC,AAAK,QAAG,AAAE,AAAC;AACjB,iBAFM,UAEI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,yBAAC,AAAK,QAAG,AAAC,AAAC;AAChB,iBAFM,MAEA,IAAI,AAAO,QAAC,AAAC,IAAG,AAAG,IAAC,AAAC,GAAE;AAC5B,AAAI,yBAAC,AAAK,QAAG,AAAG,AAAC;AAClB;AACF,aAZM,MAYA;AACL,AAAO,0BAAG,AAAI,KAAC,AAAK,MAAC,AAAK,QAAG,AAAC,AAAC,GAAC,AAAY,AAAC;AAC7C,AAAO,0BAAG,AAAI,KAAC,AAAK,MAAC,AAAK,QAAG,AAAC,AAAC,GAAC,AAAY,AAAC;AAC7C,oBAAI,AAAO,QAAC,AAAC,MAAK,AAAO,QAAC,AAAC,GAAE;AAC3B,AAAI,yBAAC,AAAW,YAAC,AAAa,AAAC,AAAC;AAChC,AAAI,yBAAC,AAAK,QAAG,AAAE,AAAC;AACjB,2BAAU,AAAO,QAAC,AAAC,MAAK,AAAO,QAAC,AAAC,GAAE;AAClC,AAAI,yBAAC,AAAW,YAAC,AAAa,AAAC,AAAC;AAChC,AAAI,yBAAC,AAAK,QAAG,AAAC,AAAC;AAChB,iBAHM,MAGA;AACL,AAAI,yBAAC,AAAW,YAAC,AAAa,AAAC,AAAC;AAChC,wBAAK,AAAO,QAAC,AAAC,MAAK,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,AAAC,AAAC,AAAI,CAAxC,IAAyC,AAAO,QAAC,AAAC,MAAK,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,AAAC,AAAC,GAAE;AAChF,AAAI,6BAAC,AAAK,QAAG,AAAG,AAAC;AAClB,+BAAW,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,AAAC,AAAC,AAAI,CAAzC,IAA0C,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,AAAC,AAAC,GAAE;AACzF,AAAI,6BAAC,AAAK,QAAG,AAAC,AAAC;AAChB,qBAFM,UAEK,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,AAAC,AAAI,CAA1C,IAA2C,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,AAAC,GAAE;AAC3F,AAAI,6BAAC,AAAK,QAAG,AAAE,AAAC;AACjB,qBAFM,MAEA,IAAK,AAAO,QAAC,AAAC,MAAK,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,AAAC,AAAI,CAAzC,IAA0C,AAAO,QAAC,AAAC,MAAK,AAAC,KAAI,AAAO,QAAC,AAAC,MAAK,CAAC,AAAC,AAAC,GAAE;AACzF,AAAI,6BAAC,AAAK,QAAG,AAAG,AAAC;AAClB;AACF;AACF,AACH;AAAC,AAEO,AAAe;;;wCAAE,AAAsB;AAC7C,mBAAO,CAAC,AAAM,OAAC,AAAK,MAAC,AAAG,IAAC,AAAI,KAAC,AAAiB,mBAAE,AAAS,AAAC,WAAC,AAAM,OAAC,AAAI,KAAC,AAAI,AAAC,AAAC,AAChF;AAAC,AAEO,AAAY;;;;AAClB,gBAAM,AAAE,KAAU,AAAI,KAAC,AAAM,OAAC,AAAG,IAAC,AAAO,QAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAChD,AAAO,oBAAC,AAAG,IAAC,AAAE,AAAC,AAAC;AAChB,mBAAO,AAAE,AAAC,AACZ;AAAC,AACF;;;;;;AAhID,gBAgIC;;;;;;;;;;;;;sDCpID;;IAAuB;;;;;;;;;;;;AAGnB,AAAI,iBAAC,AAAK,MAAC,AAAqB,wBAAG,AAAI,AAAC;AACxC,AAAI,iBAAC,AAAK,MAAC,AAAmB,sBAAG,AAAI,AAAC;AACtC,AAAI,iBAAC,AAAI,KAAC,AAAc,iBAAG,AAAI,AAAC,AAElC;AAAC,UAAC,AAAU,AAEL,AAAM;;;;;AACX,AAAI,iBAAC,AAAK,MAAC,AAAK,MAAC,AAAS,AAAC,AAAC,AAE9B;AAAC,UAAC,AAAS,AAEZ;;;;;EAd8B,AAAM,OAAC,AAAK,AAElC,AAAO,QAYd,AAAY;;;AAdd,oBAcC;;;;;;;;;;;;;;ACdD,oBAA6B;AAE7B,sBAAiC,AAEjC;;IAAuB;;;AAAvB;;;;;AAEU,cAAU,aAAU,AAAE,AAAC;AACvB,cAAW,cAAU,AAAE,AAAC;AAExB,cAAU,aAAU,AAAI,AAAC;AACzB,cAAU,aAAU,AAAC,AAAC,AA2ChC;;AArCS,AAAM,AAqCd;;;;;AApCG,kBAAG,IAAC,AAAI,KAAC,AAAI,KAAC,AAAU,YAAE,AAAI,KAAC,AAAW,aACxC,IAAI,AAAM,OAAC,AAAK,MAAC,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAO,SAAE,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAO,AAAC,AAAC,AAAC;AAEtE,gBAAM,AAAU,aAAiB,AAAI,KAAC,AAAI,KAAC,AAAG,IAAC,AAAM,OACnD,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAO,SAAE,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAO,SAAE,AAAM,AAAC,AAAC;AAC5D,AAAU,uBAAC,AAAM,OAAC,AAAG,IAAC,AAAG,AAAC,AAAC;AAE3B,AAAI,iBAAC,AAAa,gBAAG,IAAI,AAAM,OAAC,AAAK,MAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAE5C,AAAI,iBAAC,AAAa,gBAAG,IAAI,QAAK,MAAC,AAAI,MAAE,AAAC,GAAE,AAAC,GAAE,AAAC,AAAC,AAAC,AAChD;AAAC,UAAC,AAAS,AAEJ,AAAM;;;;;AACX,gBAAI,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAQ,SAAC,AAAM,OAAC,AAAM,OAAC,AAAQ,SAAC,AAAI,AAAC,OAAE;AACzD,AAAI,qBAAC,AAAa,cAAC,AAAG,IAAC,CAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAC/B,uBAAU,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAQ,SAAC,AAAM,OAAC,AAAM,OAAC,AAAQ,SAAC,AAAK,AAAC,QAAE;AACjE,AAAI,qBAAC,AAAa,cAAC,AAAG,IAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAC9B,aAFM,UAEI,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAQ,SAAC,AAAM,OAAC,AAAM,OAAC,AAAQ,SAAC,AAAE,AAAC,KAAE;AAC9D,AAAI,qBAAC,AAAa,cAAC,AAAG,IAAC,AAAC,GAAE,CAAC,AAAC,AAAC,AAAC;AAC/B,aAFM,MAEA,IAAI,AAAI,KAAC,AAAI,KAAC,AAAK,MAAC,AAAQ,SAAC,AAAM,OAAC,AAAM,OAAC,AAAQ,SAAC,AAAI,AAAC,OAAE;AAChE,AAAI,qBAAC,AAAa,cAAC,AAAG,IAAC,AAAC,GAAE,AAAC,AAAC,AAAC;AAC9B;AACD,gBAAI,AAAI,KAAC,AAAU,aAAG,AAAI,KAAC,AAAU,YAAE;AACrC,AAAI,qBAAC,AAAU,cAAI,AAAI,KAAC,AAAI,KAAC,AAAI,KAAC,AAAO,AAAC;AAC3C,mBAAM;AACL,AAAI,qBAAC,AAAU,aAAG,AAAC,AAAC;AACpB,AAAkC;AAClC,AAAI,qBAAC,AAAa,cAAC,AAAW,YAAC,AAAI,KAAC,AAAa,AAAC,AAAC;AACpD,AACH;AAAC,UAAC,AAAS,AAEJ,AAAM;;;;;AACX,AAAI,iBAAC,AAAI,KAAC,AAAK,MAAC,AAAI,KAAC,AAAI,KAAC,AAAI,KAAC,AAAG,IAAC,AAAQ,AAAE,cAAI,AAAI,MAAE,AAAC,GAAE,AAAE,IAAE,AAAS,AAAC,AAAC,AAE3E;AAAC,UAAC,AAAS,AAEZ;;;;;EAjD8B,AAAM,OAAC,AAAK,QAiDzC,AAAY;;;AAjDd,oBAiDC;;;;;;;;;;;;;sDCrDD;;IAA0B;;;;;;;;;;;;AAGtB,AAAI,iBAAC,AAAI,KAAC,AAAK,MAAC,AAAM,QAAE,AAAwB,AAAC,AAAC;AAElD,AAAI,iBAAC,AAAI,KAAC,AAAc,eAAC,AAAS,WAAE,AAA2B,6BAAE,AAA4B,AAAC,AAAC,AAEjG;AAAC,UAAC,AAAU,AAEL,AAAM;;;;;AACX,AAAI,iBAAC,AAAK,MAAC,AAAK,MAAC,AAAM,AAAC,AAAC,AAE3B;AAAC,UAAC,AAAS,AAEZ;;;;;EAdiC,AAAM,OAAC,AAAK,AAErC,AAAO,QAYd,AAAe;;;AAdjB,uBAcC","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { ActorType } from './actorType';\nimport { Gbl } from './gbl';\nimport { MatchColor } from './matchColor';\n\nexport class Actor extends Phaser.Sprite {\n\n  public gridPosition:Phaser.Point;\n\n  public color:MatchColor;\n\n  public actoryType:ActorType;\n\n  private _sheet:string;\n\n  constructor (game:Phaser.Game, sheet:string) {\n    super(game, 0, 0);\n    this._sheet = sheet;\n    this.loadTexture(this._sheet);\n    this.gridPosition = new Phaser.Point();\n    this.anchor.set(0.5);\n    game.add.existing(this);\n  }\n\n  public init (x:number, y:number, color:MatchColor, actorType:ActorType, sprite:string):void {\n    this.updatePosition(x, y);\n    this.color = color;\n    this.actoryType = actorType;\n    this.updateFrame(sprite);\n  }\n\n  public updatePosition (x:number, y:number):void {\n    this.gridPosition.x = x;\n    this.gridPosition.y = y;\n    const worldPos:Phaser.Point = Gbl.gridToWorld(x, y);\n    this.x = worldPos.x;\n    this.y = worldPos.y;\n  }\n\n  public updateFrame (sprite:string):void {\n    this.frameName = this._getColorString(sprite);\n  }\n\n  public _getColorString (name:string):string {\n    let stringName:string = name;\n\n    switch (this.color) {\n      case MatchColor.BLUE:\n        stringName += '_blue';\n        break;\n\n      case MatchColor.GREEN:\n        stringName += '_green';\n        break;\n\n      case MatchColor.RED:\n        stringName += '_red';\n        break;\n\n      case MatchColor.YELLOW:\n        stringName += '_yellow';\n        break;\n    }\n\n    return stringName;\n  }\n\n}\n","\nexport enum ActorType {\n  HEAD,\n  BODY,\n  TARGET,\n}\n","\nexport class Gbl {\n  public static readonly TILESIZE:number = 24;\n  \n  public static gridWidth:number;\n  public static gridHeight:number;\n\n  private static _minX:number;\n  private static _minY:number;\n\n  public static init (gridWidth:number, gridHeight:number, center:Phaser.Point):void {\n    Gbl.gridWidth = gridWidth;\n    Gbl.gridHeight = gridHeight;\n\n    Gbl._minX = center.x - gridWidth * Gbl.TILESIZE * 0.5 + Gbl.TILESIZE * 0.5;\n    Gbl._minY = center.y - gridHeight * Gbl.TILESIZE * 0.5 + Gbl.TILESIZE * 0.5;\n  }\n\n  public static gridToWorld (x:number, y:number):Phaser.Point {\n    return new Phaser.Point(Gbl._minX + x * Gbl.TILESIZE, Gbl._minY + y * Gbl.TILESIZE);\n  }\n\n  public static worldToGrid (x:number, y:number):Phaser.Point {\n    return new Phaser.Point(Math.floor((x - Gbl._minX) / Gbl.TILESIZE), Math.floor((y - Gbl._minY) / Gbl.TILESIZE));\n  }\n}\n","\nimport { BootState } from './states/bootState';\nimport { GameState } from './states/gameState';\nimport { PreloadState } from './states/preloadState';\n\nclass Main extends Phaser.Game {\n\n  constructor () {\n    super(800, 600, Phaser.AUTO, 'container');\n\n    this.state.add('boot', BootState);\n    this.state.add('preload', PreloadState);\n    this.state.add('game', GameState);\n\n    this.state.start('boot');\n  \n  } // constructor\n\n} // Main\n\nwindow.onload = () => {\n  new Main();\n};\n","export enum MatchColor {\n  BLUE,\n  GREEN,\n  RED,\n  YELLOW,\n}\n","import { Actor } from './actor';\nimport { ActorType } from './actorType';\nimport { MatchColor } from './matchColor';\nimport { GameState } from './states/gameState';\n\nexport class Snake {\n\n  private _body:Actor[];\n\n  private _currentDirection:Phaser.Point;\n\n  private readonly ZERO:Phaser.Point = new Phaser.Point(0, 0);\n\n  private _state:GameState;\n\n  constructor (state:GameState, x:number, y:number, length:number) {\n    this._state = state;\n    this._body = [];\n    this._currentDirection = new Phaser.Point(0, 1);\n    \n    for (let i:number = 0; i < length; i++) {\n      const part:Actor = new Actor(state.game, 'sprites');\n      const color:MatchColor = this._getRndColor();\n      if (i === 0) {\n        part.init(x, y - i, color, ActorType.HEAD, 'head_end');\n        part.angle = 180;\n      } else if (i === length - 1) {\n        part.init(x, y - i, color, ActorType.BODY, 'body_end');\n      } else {\n        part.init(x, y - i, color, ActorType.BODY, 'body_middle');\n      }\n      this._body.push(part);\n    }\n  }\n\n  public updateSnake (newDirection:Phaser.Point):void {\n    if (this._validDirection(newDirection)) {\n      this._currentDirection.set(newDirection.x, newDirection.y);\n    }\n\n    const oldPos:Phaser.Point = new Phaser.Point();\n    const newPos:Phaser.Point = Phaser.Point.add(this._body[0].gridPosition, this._currentDirection);\n    \n    for (const part of this._body) {\n      oldPos.x = part.gridPosition.x;\n      oldPos.y = part.gridPosition.y;\n      part.updatePosition(newPos.x, newPos.y);\n      newPos.x = oldPos.x;\n      newPos.y = oldPos.y;\n    }\n    this.updateSprites();\n  }\n\n  public updateSprites ():void {\n    for (let i:number = 0; i < this._body.length; i++) {\n      const part:Actor = this._body[i];\n      this._setSprite(i, part);\n    }\n  }\n\n  private _setSprite (index:number, part:Actor):void {\n    const pos:Phaser.Point = this._body[index].gridPosition;\n    let nextPos:Phaser.Point;\n    let prevPos:Phaser.Point;\n    if (index === 0) {\n      if (this._body.length === 1) {\n        if (part.actoryType === ActorType.HEAD) {\n          part.updateFrame('head_single');\n        } else {\n          part.updateFrame('body_single');\n        }\n      } else {\n        nextPos = this._body[index + 1].gridPosition;\n        if (part.actoryType === ActorType.HEAD) {\n          part.updateFrame('head_end');\n        } else {\n          part.updateFrame('body_end');\n        }\n        if (nextPos.x > pos.x) {\n          part.angle = 270;\n        } else if (nextPos.x < pos.x) {\n          part.angle = 90;\n        } else if (nextPos.y > pos.y) {\n          part.angle = 0;\n        } else if (nextPos.y < pos.y) {\n          part.angle = 180;\n        }\n      }\n    } else if (index === this._body.length - 1) {\n      prevPos = this._body[index - 1].gridPosition;\n      part.updateFrame('body_end');\n      if (prevPos.x > pos.x) {\n        part.angle = 270;\n      } else if (prevPos.x < pos.x) {\n        part.angle = 90;\n      } else if (prevPos.y > pos.y) {\n        part.angle = 0;\n      } else if (prevPos.y < pos.y) {\n        part.angle = 180;\n      }\n    } else {\n      nextPos = this._body[index + 1].gridPosition;\n      prevPos = this._body[index - 1].gridPosition;\n      if (nextPos.x === prevPos.x) {\n        part.updateFrame('body_middle');\n        part.angle = 90;\n      } else if (nextPos.y === prevPos.y) {\n        part.updateFrame('body_middle');\n        part.angle = 0;\n      } else {\n        part.updateFrame('body_corner');\n        if ((nextPos.x === 1 && prevPos.y === 1) || (prevPos.x === 1 && nextPos.y === 1)) {\n          part.angle = 270;\n        } else if ((nextPos.x === -1 && prevPos.y === 1) || (prevPos.x === -1 && nextPos.y === 1)) {\n          part.angle = 0;\n        } else if ((nextPos.x === -1 && prevPos.y === -1) || (prevPos.x === -1 && nextPos.y === -1)) {\n          part.angle = 90;\n        } else if ((nextPos.x === 1 && prevPos.y === -1) || (prevPos.x === 1 && nextPos.y === -1)) {\n          part.angle = 180;\n        }\n      }\n    }\n  }\n\n  private _validDirection (direction:Phaser.Point):boolean {\n    return !Phaser.Point.add(this._currentDirection, direction).equals(this.ZERO);\n  }\n\n  private _getRndColor ():MatchColor {\n    const nr:number = this._state.rnd.between(0, 3);\n    console.log(nr);\n    return nr;\n  }\n}\n","\nexport class BootState extends Phaser.State {\n\n  public preload ():void {\n    this.scale.pageAlignHorizontally = true;\n    this.scale.pageAlignVertically = true;\n    this.time.advancedTiming = true;\n\n  } // preload\n\n  public create ():void {\n    this.state.start('preload');\n\n  } // create\n\n} // BootState\n","import { Actor } from '../actor';\nimport { Gbl } from '../gbl';\nimport { MatchColor } from '../matchColor';\nimport { Snake } from '../snake';\n\nexport class GameState extends Phaser.State {\n\n  private _gridWidth:number = 15;\n  private _gridHeight:number = 24;\n\n  private _moveDelay:number = 1000;\n  private _moveTimer:number = 0;\n\n  private _newDirection:Phaser.Point;\n\n  private _currentSnake:Snake;\n\n  public create ():void {\n    Gbl.init(this._gridWidth, this._gridHeight,\n      new Phaser.Point(this.game.world.centerX, this.game.world.centerY));\n\n    const background:Phaser.Sprite = this.game.add.sprite(\n      this.game.world.centerX, this.game.world.centerY, 'grid');\n    background.anchor.set(0.5);\n\n    this._newDirection = new Phaser.Point(0, 1);\n\n    this._currentSnake = new Snake(this, 7, 5, 5);\n  } // create\n\n  public update ():void {\n    if (this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {\n      this._newDirection.set(-1, 0);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {\n      this._newDirection.set(1, 0);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.UP)) {\n      this._newDirection.set(0, -1);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {\n      this._newDirection.set(0, 1);\n    }\n    if (this._moveTimer < this._moveDelay) {\n      this._moveTimer += this.game.time.elapsed;\n    } else {\n      this._moveTimer = 0;\n      // console.log('move snake here');\n      this._currentSnake.updateSnake(this._newDirection);\n    }\n  } // update\n\n  public render ():void {\n    this.game.debug.text(this.time.fps.toString() || '--', 2, 14, '#00ff00');\n\n  } // render\n\n} // GameState\n","\nexport class PreloadState extends Phaser.State {\n\n  public preload ():void {\n    this.load.image('grid', 'assets/images/grid.png');\n\n    this.load.atlasJSONArray('sprites', 'assets/images/sprites.png', 'assets/images/sprites.json');\n    \n  } // preload\n\n  public create ():void {\n    this.state.start('game');\n\n  } // create\n\n} // PreloadState\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWN0b3IudHMiLCJzcmMvYWN0b3JUeXBlLnRzIiwic3JjL2dibC50cyIsInNyYy9tYWluLnRzIiwic3JjL21hdGNoQ29sb3IudHMiLCJzcmMvc25ha2UudHMiLCJzcmMvc3RhdGVzL2Jvb3RTdGF0ZS50cyIsInNyYy9zdGF0ZXMvZ2FtZVN0YXRlLnRzIiwic3JjL3N0YXRlcy9wcmVsb2FkU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztBQ0NBLG9CQUE0QjtBQUM1QiwyQkFBMEMsQUFFMUM7O0lBQW1COzs7QUFVakIsbUJBQWEsQUFBZ0IsTUFBRSxBQUFZO0FBQ3pDLEFBQUs7O2tIQUFDLEFBQUksTUFBRSxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUM7O0FBQ2xCLEFBQUksY0FBQyxBQUFNLFNBQUcsQUFBSyxBQUFDO0FBQ3BCLEFBQUksY0FBQyxBQUFXLFlBQUMsQUFBSSxNQUFDLEFBQU0sQUFBQyxBQUFDO0FBQzlCLEFBQUksY0FBQyxBQUFZLGVBQUcsSUFBSSxBQUFNLE9BQUMsQUFBSyxBQUFFLEFBQUM7QUFDdkMsQUFBSSxjQUFDLEFBQU0sT0FBQyxBQUFHLElBQUMsQUFBRyxBQUFDLEFBQUM7QUFDckIsQUFBSSxhQUFDLEFBQUcsSUFBQyxBQUFRLEFBQUMsQUFBSSxBQUFDLEFBQUMsQUFDMUI7O0FBQUMsQUFFTSxBQUFJOzs7OzZCQUFFLEFBQVEsR0FBRSxBQUFRLEdBQUUsQUFBZ0IsT0FBRSxBQUFtQixXQUFFLEFBQWE7QUFDbkYsQUFBSSxpQkFBQyxBQUFjLGVBQUMsQUFBQyxHQUFFLEFBQUMsQUFBQyxBQUFDO0FBQzFCLEFBQUksaUJBQUMsQUFBSyxRQUFHLEFBQUssQUFBQztBQUNuQixBQUFJLGlCQUFDLEFBQVUsYUFBRyxBQUFTLEFBQUM7QUFDNUIsQUFBSSxpQkFBQyxBQUFXLFlBQUMsQUFBTSxBQUFDLEFBQUMsQUFDM0I7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QUFDLEFBRTNFO0FBQUMsVUFBQyxBQUFTLEFBRVo7Ozs7O0VBakQ4QixBQUFNLE9BQUMsQUFBSyxRQWlEekMsQUFBWTs7O0FBakRkLG9CQWlEQzs7Ozs7Ozs7Ozs7OztzRENyREQ7O0lBQTBCOzs7Ozs7Ozs7Ozs7QUFHdEIsQUFBSSxpQkFBQyxBQUFJLEtBQUMsQUFBSyxNQUFDLEFBQU0sUUFBRSxBQUF3QixBQUFDLEFBQUM7QUFFbEQsQUFBSSxpQkFBQyxBQUFJLEtBQUMsQUFBYyxlQUFDLEFBQVMsV0FBRSxBQUEyQiw2QkFBRSxBQUE0QixBQUFDLEFBQUMsQUFFakc7QUFBQyxVQUFDLEFBQVUsQUFFTCxBQUFNOzs7OztBQUNYLEFBQUksaUJBQUMsQUFBSyxNQUFDLEFBQUssTUFBQyxBQUFNLEFBQUMsQUFBQyxBQUUzQjtBQUFDLFVBQUMsQUFBUyxBQUVaOzs7OztFQWRpQyxBQUFNLE9BQUMsQUFBSyxBQUVyQyxBQUFPLFFBWWQsQUFBZTs7O0FBZGpCLHVCQWNDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHsgQWN0b3JUeXBlIH0gZnJvbSAnLi9hY3RvclR5cGUnO1xuaW1wb3J0IHsgR2JsIH0gZnJvbSAnLi9nYmwnO1xuaW1wb3J0IHsgTWF0Y2hDb2xvciB9IGZyb20gJy4vbWF0Y2hDb2xvcic7XG5cbmV4cG9ydCBjbGFzcyBBY3RvciBleHRlbmRzIFBoYXNlci5TcHJpdGUge1xuXG4gIHB1YmxpYyBncmlkUG9zaXRpb246UGhhc2VyLlBvaW50O1xuXG4gIHB1YmxpYyBjb2xvcjpNYXRjaENvbG9yO1xuXG4gIHB1YmxpYyBhY3RvcnlUeXBlOkFjdG9yVHlwZTtcblxuICBwcml2YXRlIF9zaGVldDpzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IgKGdhbWU6UGhhc2VyLkdhbWUsIHNoZWV0OnN0cmluZykge1xuICAgIHN1cGVyKGdhbWUsIDAsIDApO1xuICAgIHRoaXMuX3NoZWV0ID0gc2hlZXQ7XG4gICAgdGhpcy5sb2FkVGV4dHVyZSh0aGlzLl9zaGVldCk7XG4gICAgdGhpcy5ncmlkUG9zaXRpb24gPSBuZXcgUGhhc2VyLlBvaW50KCk7XG4gICAgdGhpcy5hbmNob3Iuc2V0KDAuNSk7XG4gICAgZ2FtZS5hZGQuZXhpc3RpbmcodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgaW5pdCAoeDpudW1iZXIsIHk6bnVtYmVyLCBjb2xvcjpNYXRjaENvbG9yLCBhY3RvclR5cGU6QWN0b3JUeXBlLCBzcHJpdGU6c3RyaW5nKTp2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICB0aGlzLmFjdG9yeVR5cGUgPSBhY3RvclR5cGU7XG4gICAgdGhpcy51cGRhdGVGcmFtZShzcHJpdGUpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVBvc2l0aW9uICh4Om51bWJlciwgeTpudW1iZXIpOnZvaWQge1xuICAgIHRoaXMuZ3JpZFBvc2l0aW9uLnggPSB4O1xuICAgIHRoaXMuZ3JpZFBvc2l0aW9uLnkgPSB5O1xuICAgIGNvbnN0IHdvcmxkUG9zOlBoYXNlci5Qb2ludCA9IEdibC5ncmlkVG9Xb3JsZCh4LCB5KTtcbiAgICB0aGlzLnggPSB3b3JsZFBvcy54O1xuICAgIHRoaXMueSA9IHdvcmxkUG9zLnk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlRnJhbWUgKHNwcml0ZTpzdHJpbmcpOnZvaWQge1xuICAgIHRoaXMuZnJhbWVOYW1lID0gdGhpcy5fZ2V0Q29sb3JTdHJpbmcoc3ByaXRlKTtcbiAgfVxuXG4gIHB1YmxpYyBfZ2V0Q29sb3JTdHJpbmcgKG5hbWU6c3RyaW5nKTpzdHJpbmcge1xuICAgIGxldCBzdHJpbmdOYW1lOnN0cmluZyA9IG5hbWU7XG5cbiAgICBzd2l0Y2ggKHRoaXMuY29sb3IpIHtcbiAgICAgIGNhc2UgTWF0Y2hDb2xvci5CTFVFOlxuICAgICAgICBzdHJpbmdOYW1lICs9ICdfYmx1ZSc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1hdGNoQ29sb3IuR1JFRU46XG4gICAgICAgIHN0cmluZ05hbWUgKz0gJ19ncmVlbic7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1hdGNoQ29sb3IuUkVEOlxuICAgICAgICBzdHJpbmdOYW1lICs9ICdfcmVkJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTWF0Y2hDb2xvci5ZRUxMT1c6XG4gICAgICAgIHN0cmluZ05hbWUgKz0gJ195ZWxsb3cnO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nTmFtZTtcbiAgfVxuXG59XG4iLCJcbmV4cG9ydCBlbnVtIEFjdG9yVHlwZSB7XG4gIEhFQUQsXG4gIEJPRFksXG4gIFRBUkdFVCxcbn1cbiIsIlxuZXhwb3J0IGNsYXNzIEdibCB7XG4gIHB1YmxpYyBzdGF0aWMgcmVhZG9ubHkgVElMRVNJWkU6bnVtYmVyID0gMjQ7XG4gIFxuICBwdWJsaWMgc3RhdGljIGdyaWRXaWR0aDpudW1iZXI7XG4gIHB1YmxpYyBzdGF0aWMgZ3JpZEhlaWdodDpudW1iZXI7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX21pblg6bnVtYmVyO1xuICBwcml2YXRlIHN0YXRpYyBfbWluWTpudW1iZXI7XG5cbiAgcHVibGljIHN0YXRpYyBpbml0IChncmlkV2lkdGg6bnVtYmVyLCBncmlkSGVpZ2h0Om51bWJlciwgY2VudGVyOlBoYXNlci5Qb2ludCk6dm9pZCB7XG4gICAgR2JsLmdyaWRXaWR0aCA9IGdyaWRXaWR0aDtcbiAgICBHYmwuZ3JpZEhlaWdodCA9IGdyaWRIZWlnaHQ7XG5cbiAgICBHYmwuX21pblggPSBjZW50ZXIueCAtIGdyaWRXaWR0aCAqIEdibC5USUxFU0laRSAqIDAuNSArIEdibC5USUxFU0laRSAqIDAuNTtcbiAgICBHYmwuX21pblkgPSBjZW50ZXIueSAtIGdyaWRIZWlnaHQgKiBHYmwuVElMRVNJWkUgKiAwLjUgKyBHYmwuVElMRVNJWkUgKiAwLjU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdyaWRUb1dvcmxkICh4Om51bWJlciwgeTpudW1iZXIpOlBoYXNlci5Qb2ludCB7XG4gICAgcmV0dXJuIG5ldyBQaGFzZXIuUG9pbnQoR2JsLl9taW5YICsgeCAqIEdibC5USUxFU0laRSwgR2JsLl9taW5ZICsgeSAqIEdibC5USUxFU0laRSk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIHdvcmxkVG9HcmlkICh4Om51bWJlciwgeTpudW1iZXIpOlBoYXNlci5Qb2ludCB7XG4gICAgcmV0dXJuIG5ldyBQaGFzZXIuUG9pbnQoTWF0aC5mbG9vcigoeCAtIEdibC5fbWluWCkgLyBHYmwuVElMRVNJWkUpLCBNYXRoLmZsb29yKCh5IC0gR2JsLl9taW5ZKSAvIEdibC5USUxFU0laRSkpO1xuICB9XG59XG4iLCJcbmltcG9ydCB7IEJvb3RTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL2Jvb3RTdGF0ZSc7XG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL3N0YXRlcy9nYW1lU3RhdGUnO1xuaW1wb3J0IHsgUHJlbG9hZFN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvcHJlbG9hZFN0YXRlJztcblxuY2xhc3MgTWFpbiBleHRlbmRzIFBoYXNlci5HYW1lIHtcblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoODAwLCA2MDAsIFBoYXNlci5BVVRPLCAnY29udGFpbmVyJyk7XG5cbiAgICB0aGlzLnN0YXRlLmFkZCgnYm9vdCcsIEJvb3RTdGF0ZSk7XG4gICAgdGhpcy5zdGF0ZS5hZGQoJ3ByZWxvYWQnLCBQcmVsb2FkU3RhdGUpO1xuICAgIHRoaXMuc3RhdGUuYWRkKCdnYW1lJywgR2FtZVN0YXRlKTtcblxuICAgIHRoaXMuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbiAgXG4gIH0gLy8gY29uc3RydWN0b3JcblxufSAvLyBNYWluXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIG5ldyBNYWluKCk7XG59O1xuIiwiZXhwb3J0IGVudW0gTWF0Y2hDb2xvciB7XG4gIEJMVUUsXG4gIEdSRUVOLFxuICBSRUQsXG4gIFlFTExPVyxcbn1cbiIsImltcG9ydCB7IEFjdG9yIH0gZnJvbSAnLi9hY3Rvcic7XG5pbXBvcnQgeyBBY3RvclR5cGUgfSBmcm9tICcuL2FjdG9yVHlwZSc7XG5pbXBvcnQgeyBNYXRjaENvbG9yIH0gZnJvbSAnLi9tYXRjaENvbG9yJztcbmltcG9ydCB7IEdhbWVTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL2dhbWVTdGF0ZSc7XG5cbmV4cG9ydCBjbGFzcyBTbmFrZSB7XG5cbiAgcHJpdmF0ZSBfYm9keTpBY3RvcltdO1xuXG4gIHByaXZhdGUgX2N1cnJlbnREaXJlY3Rpb246UGhhc2VyLlBvaW50O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgWkVSTzpQaGFzZXIuUG9pbnQgPSBuZXcgUGhhc2VyLlBvaW50KDAsIDApO1xuXG4gIHByaXZhdGUgX3N0YXRlOkdhbWVTdGF0ZTtcblxuICBjb25zdHJ1Y3RvciAoc3RhdGU6R2FtZVN0YXRlLCB4Om51bWJlciwgeTpudW1iZXIsIGxlbmd0aDpudW1iZXIpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuX2JvZHkgPSBbXTtcbiAgICB0aGlzLl9jdXJyZW50RGlyZWN0aW9uID0gbmV3IFBoYXNlci5Qb2ludCgwLCAxKTtcbiAgICBcbiAgICBmb3IgKGxldCBpOm51bWJlciA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGFydDpBY3RvciA9IG5ldyBBY3RvcihzdGF0ZS5nYW1lLCAnc3ByaXRlcycpO1xuICAgICAgY29uc3QgY29sb3I6TWF0Y2hDb2xvciA9IHRoaXMuX2dldFJuZENvbG9yKCk7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBwYXJ0LmluaXQoeCwgeSAtIGksIGNvbG9yLCBBY3RvclR5cGUuSEVBRCwgJ2hlYWRfZW5kJyk7XG4gICAgICAgIHBhcnQuYW5nbGUgPSAxODA7XG4gICAgICB9IGVsc2UgaWYgKGkgPT09IGxlbmd0aCAtIDEpIHtcbiAgICAgICAgcGFydC5pbml0KHgsIHkgLSBpLCBjb2xvciwgQWN0b3JUeXBlLkJPRFksICdib2R5X2VuZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydC5pbml0KHgsIHkgLSBpLCBjb2xvciwgQWN0b3JUeXBlLkJPRFksICdib2R5X21pZGRsZScpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYm9keS5wdXNoKHBhcnQpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVTbmFrZSAobmV3RGlyZWN0aW9uOlBoYXNlci5Qb2ludCk6dm9pZCB7XG4gICAgaWYgKHRoaXMuX3ZhbGlkRGlyZWN0aW9uKG5ld0RpcmVjdGlvbikpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnREaXJlY3Rpb24uc2V0KG5ld0RpcmVjdGlvbi54LCBuZXdEaXJlY3Rpb24ueSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUG9zOlBoYXNlci5Qb2ludCA9IG5ldyBQaGFzZXIuUG9pbnQoKTtcbiAgICBjb25zdCBuZXdQb3M6UGhhc2VyLlBvaW50ID0gUGhhc2VyLlBvaW50LmFkZCh0aGlzLl9ib2R5WzBdLmdyaWRQb3NpdGlvbiwgdGhpcy5fY3VycmVudERpcmVjdGlvbik7XG4gICAgXG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX2JvZHkpIHtcbiAgICAgIG9sZFBvcy54ID0gcGFydC5ncmlkUG9zaXRpb24ueDtcbiAgICAgIG9sZFBvcy55ID0gcGFydC5ncmlkUG9zaXRpb24ueTtcbiAgICAgIHBhcnQudXBkYXRlUG9zaXRpb24obmV3UG9zLngsIG5ld1Bvcy55KTtcbiAgICAgIG5ld1Bvcy54ID0gb2xkUG9zLng7XG4gICAgICBuZXdQb3MueSA9IG9sZFBvcy55O1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVNwcml0ZXMoKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVTcHJpdGVzICgpOnZvaWQge1xuICAgIGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IHRoaXMuX2JvZHkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBhcnQ6QWN0b3IgPSB0aGlzLl9ib2R5W2ldO1xuICAgICAgdGhpcy5fc2V0U3ByaXRlKGksIHBhcnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3NldFNwcml0ZSAoaW5kZXg6bnVtYmVyLCBwYXJ0OkFjdG9yKTp2b2lkIHtcbiAgICBjb25zdCBwb3M6UGhhc2VyLlBvaW50ID0gdGhpcy5fYm9keVtpbmRleF0uZ3JpZFBvc2l0aW9uO1xuICAgIGxldCBuZXh0UG9zOlBoYXNlci5Qb2ludDtcbiAgICBsZXQgcHJldlBvczpQaGFzZXIuUG9pbnQ7XG4gICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5fYm9keS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKHBhcnQuYWN0b3J5VHlwZSA9PT0gQWN0b3JUeXBlLkhFQUQpIHtcbiAgICAgICAgICBwYXJ0LnVwZGF0ZUZyYW1lKCdoZWFkX3NpbmdsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2JvZHlfc2luZ2xlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQb3MgPSB0aGlzLl9ib2R5W2luZGV4ICsgMV0uZ3JpZFBvc2l0aW9uO1xuICAgICAgICBpZiAocGFydC5hY3RvcnlUeXBlID09PSBBY3RvclR5cGUuSEVBRCkge1xuICAgICAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2hlYWRfZW5kJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFydC51cGRhdGVGcmFtZSgnYm9keV9lbmQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dFBvcy54ID4gcG9zLngpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMjcwO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHRQb3MueCA8IHBvcy54KSB7XG4gICAgICAgICAgcGFydC5hbmdsZSA9IDkwO1xuICAgICAgICB9IGVsc2UgaWYgKG5leHRQb3MueSA+IHBvcy55KSB7XG4gICAgICAgICAgcGFydC5hbmdsZSA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFBvcy55IDwgcG9zLnkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMTgwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbmRleCA9PT0gdGhpcy5fYm9keS5sZW5ndGggLSAxKSB7XG4gICAgICBwcmV2UG9zID0gdGhpcy5fYm9keVtpbmRleCAtIDFdLmdyaWRQb3NpdGlvbjtcbiAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2JvZHlfZW5kJyk7XG4gICAgICBpZiAocHJldlBvcy54ID4gcG9zLngpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDI3MDtcbiAgICAgIH0gZWxzZSBpZiAocHJldlBvcy54IDwgcG9zLngpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDkwO1xuICAgICAgfSBlbHNlIGlmIChwcmV2UG9zLnkgPiBwb3MueSkge1xuICAgICAgICBwYXJ0LmFuZ2xlID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocHJldlBvcy55IDwgcG9zLnkpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDE4MDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFBvcyA9IHRoaXMuX2JvZHlbaW5kZXggKyAxXS5ncmlkUG9zaXRpb247XG4gICAgICBwcmV2UG9zID0gdGhpcy5fYm9keVtpbmRleCAtIDFdLmdyaWRQb3NpdGlvbjtcbiAgICAgIGlmIChuZXh0UG9zLnggPT09IHByZXZQb3MueCkge1xuICAgICAgICBwYXJ0LnVwZGF0ZUZyYW1lKCdib2R5X21pZGRsZScpO1xuICAgICAgICBwYXJ0LmFuZ2xlID0gOTA7XG4gICAgICB9IGVsc2UgaWYgKG5leHRQb3MueSA9PT0gcHJldlBvcy55KSB7XG4gICAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2JvZHlfbWlkZGxlJyk7XG4gICAgICAgIHBhcnQuYW5nbGUgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydC51cGRhdGVGcmFtZSgnYm9keV9jb3JuZXInKTtcbiAgICAgICAgaWYgKChuZXh0UG9zLnggPT09IDEgJiYgcHJldlBvcy55ID09PSAxKSB8fCAocHJldlBvcy54ID09PSAxICYmIG5leHRQb3MueSA9PT0gMSkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMjcwO1xuICAgICAgICB9IGVsc2UgaWYgKChuZXh0UG9zLnggPT09IC0xICYmIHByZXZQb3MueSA9PT0gMSkgfHwgKHByZXZQb3MueCA9PT0gLTEgJiYgbmV4dFBvcy55ID09PSAxKSkge1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKChuZXh0UG9zLnggPT09IC0xICYmIHByZXZQb3MueSA9PT0gLTEpIHx8IChwcmV2UG9zLnggPT09IC0xICYmIG5leHRQb3MueSA9PT0gLTEpKSB7XG4gICAgICAgICAgcGFydC5hbmdsZSA9IDkwO1xuICAgICAgICB9IGVsc2UgaWYgKChuZXh0UG9zLnggPT09IDEgJiYgcHJldlBvcy55ID09PSAtMSkgfHwgKHByZXZQb3MueCA9PT0gMSAmJiBuZXh0UG9zLnkgPT09IC0xKSkge1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAxODA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF92YWxpZERpcmVjdGlvbiAoZGlyZWN0aW9uOlBoYXNlci5Qb2ludCk6Ym9vbGVhbiB7XG4gICAgcmV0dXJuICFQaGFzZXIuUG9pbnQuYWRkKHRoaXMuX2N1cnJlbnREaXJlY3Rpb24sIGRpcmVjdGlvbikuZXF1YWxzKHRoaXMuWkVSTyk7XG4gIH1cblxuICBwcml2YXRlIF9nZXRSbmRDb2xvciAoKTpNYXRjaENvbG9yIHtcbiAgICBjb25zdCBucjpudW1iZXIgPSB0aGlzLl9zdGF0ZS5ybmQuYmV0d2VlbigwLCAzKTtcbiAgICBjb25zb2xlLmxvZyhucik7XG4gICAgcmV0dXJuIG5yO1xuICB9XG59XG4iLCJcbmV4cG9ydCBjbGFzcyBCb290U3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXG4gIHB1YmxpYyBwcmVsb2FkICgpOnZvaWQge1xuICAgIHRoaXMuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICB0aGlzLnNjYWxlLnBhZ2VBbGlnblZlcnRpY2FsbHkgPSB0cnVlO1xuICAgIHRoaXMudGltZS5hZHZhbmNlZFRpbWluZyA9IHRydWU7XG5cbiAgfSAvLyBwcmVsb2FkXG5cbiAgcHVibGljIGNyZWF0ZSAoKTp2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnN0YXJ0KCdwcmVsb2FkJyk7XG5cbiAgfSAvLyBjcmVhdGVcblxufSAvLyBCb290U3RhdGVcbiIsImltcG9ydCB7IEFjdG9yIH0gZnJvbSAnLi4vYWN0b3InO1xuaW1wb3J0IHsgR2JsIH0gZnJvbSAnLi4vZ2JsJztcbmltcG9ydCB7IE1hdGNoQ29sb3IgfSBmcm9tICcuLi9tYXRjaENvbG9yJztcbmltcG9ydCB7IFNuYWtlIH0gZnJvbSAnLi4vc25ha2UnO1xuXG5leHBvcnQgY2xhc3MgR2FtZVN0YXRlIGV4dGVuZHMgUGhhc2VyLlN0YXRlIHtcblxuICBwcml2YXRlIF9ncmlkV2lkdGg6bnVtYmVyID0gMTU7XG4gIHByaXZhdGUgX2dyaWRIZWlnaHQ6bnVtYmVyID0gMjQ7XG5cbiAgcHJpdmF0ZSBfbW92ZURlbGF5Om51bWJlciA9IDEwMDA7XG4gIHByaXZhdGUgX21vdmVUaW1lcjpudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX25ld0RpcmVjdGlvbjpQaGFzZXIuUG9pbnQ7XG5cbiAgcHJpdmF0ZSBfY3VycmVudFNuYWtlOlNuYWtlO1xuXG4gIHB1YmxpYyBjcmVhdGUgKCk6dm9pZCB7XG4gICAgR2JsLmluaXQodGhpcy5fZ3JpZFdpZHRoLCB0aGlzLl9ncmlkSGVpZ2h0LFxuICAgICAgbmV3IFBoYXNlci5Qb2ludCh0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclkpKTtcblxuICAgIGNvbnN0IGJhY2tncm91bmQ6UGhhc2VyLlNwcml0ZSA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKFxuICAgICAgdGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCAnZ3JpZCcpO1xuICAgIGJhY2tncm91bmQuYW5jaG9yLnNldCgwLjUpO1xuXG4gICAgdGhpcy5fbmV3RGlyZWN0aW9uID0gbmV3IFBoYXNlci5Qb2ludCgwLCAxKTtcblxuICAgIHRoaXMuX2N1cnJlbnRTbmFrZSA9IG5ldyBTbmFrZSh0aGlzLCA3LCA1LCA1KTtcbiAgfSAvLyBjcmVhdGVcblxuICBwdWJsaWMgdXBkYXRlICgpOnZvaWQge1xuICAgIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5MRUZUKSkge1xuICAgICAgdGhpcy5fbmV3RGlyZWN0aW9uLnNldCgtMSwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5SSUdIVCkpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMSwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5VUCkpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMCwgLTEpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuRE9XTikpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMCwgMSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9tb3ZlVGltZXIgPCB0aGlzLl9tb3ZlRGVsYXkpIHtcbiAgICAgIHRoaXMuX21vdmVUaW1lciArPSB0aGlzLmdhbWUudGltZS5lbGFwc2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tb3ZlVGltZXIgPSAwO1xuICAgICAgLy8gY29uc29sZS5sb2coJ21vdmUgc25ha2UgaGVyZScpO1xuICAgICAgdGhpcy5fY3VycmVudFNuYWtlLnVwZGF0ZVNuYWtlKHRoaXMuX25ld0RpcmVjdGlvbik7XG4gICAgfVxuICB9IC8vIHVwZGF0ZVxuXG4gIHB1YmxpYyByZW5kZXIgKCk6dm9pZCB7XG4gICAgdGhpcy5nYW1lLmRlYnVnLnRleHQodGhpcy50aW1lLmZwcy50b1N0cmluZygpIHx8ICctLScsIDIsIDE0LCAnIzAwZmYwMCcpO1xuXG4gIH0gLy8gcmVuZGVyXG5cbn0gLy8gR2FtZVN0YXRlXG4iLCJcbmV4cG9ydCBjbGFzcyBQcmVsb2FkU3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXG4gIHB1YmxpYyBwcmVsb2FkICgpOnZvaWQge1xuICAgIHRoaXMubG9hZC5pbWFnZSgnZ3JpZCcsICdhc3NldHMvaW1hZ2VzL2dyaWQucG5nJyk7XG5cbiAgICB0aGlzLmxvYWQuYXRsYXNKU09OQXJyYXkoJ3Nwcml0ZXMnLCAnYXNzZXRzL2ltYWdlcy9zcHJpdGVzLnBuZycsICdhc3NldHMvaW1hZ2VzL3Nwcml0ZXMuanNvbicpO1xuICAgIFxuICB9IC8vIHByZWxvYWRcblxuICBwdWJsaWMgY3JlYXRlICgpOnZvaWQge1xuICAgIHRoaXMuc3RhdGUuc3RhcnQoJ2dhbWUnKTtcblxuICB9IC8vIGNyZWF0ZVxuXG59IC8vIFByZWxvYWRTdGF0ZVxuIl19"}