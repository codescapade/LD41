{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/actor.ts","src/actorType.ts","src/gbl.ts","src/main.ts","src/matchColor.ts","src/snake.ts","src/states/bootState.ts","src/states/gameState.ts","src/states/preloadState.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { ActorType } from './actorType';\nimport { Gbl } from './gbl';\nimport { MatchColor } from './matchColor';\n\nexport class Actor extends Phaser.Sprite {\n\n  public gridPosition:Phaser.Point;\n\n  public color:MatchColor;\n\n  public actoryType:ActorType;\n\n  private _sheet:string;\n\n  constructor (game:Phaser.Game, sheet:string) {\n    super(game, 0, 0);\n    this._sheet = sheet;\n    this.loadTexture(this._sheet);\n    this.gridPosition = new Phaser.Point();\n    this.anchor.set(0.5);\n    game.add.existing(this);\n  }\n\n  public init (x:number, y:number, color:MatchColor, actorType:ActorType, sprite:string):void {\n    this.updatePosition(x, y);\n    this.color = color;\n    this.actoryType = actorType;\n    this.updateFrame(sprite);\n  }\n\n  public updatePosition (x:number, y:number):void {\n    this.gridPosition.x = x;\n    this.gridPosition.y = y;\n    const worldPos:Phaser.Point = Gbl.gridToWorld(x, y);\n    this.x = worldPos.x;\n    this.y = worldPos.y;\n  }\n\n  public updateFrame (sprite:string):void {\n    this.frameName = this._getColorString(sprite);\n  }\n\n  public _getColorString (name:string):string {\n    let stringName:string = name;\n\n    switch (this.color) {\n      case MatchColor.BLUE:\n        stringName += '_blue';\n        break;\n\n      case MatchColor.GREEN:\n        stringName += '_green';\n        break;\n\n      case MatchColor.RED:\n        stringName += '_red';\n        break;\n\n      case MatchColor.YELLOW:\n        stringName += '_yellow';\n        break;\n    }\n\n    return stringName;\n  }\n\n}\n","\nexport enum ActorType {\n  HEAD,\n  BODY,\n  TARGET,\n\n} // ActorType\n","\nexport class Gbl {\n  public static readonly TILESIZE:number = 24;\n  \n  public static gridWidth:number;\n  public static gridHeight:number;\n\n  private static _minX:number;\n  private static _minY:number;\n\n  public static init (gridWidth:number, gridHeight:number, center:Phaser.Point):void {\n    Gbl.gridWidth = gridWidth;\n    Gbl.gridHeight = gridHeight;\n\n    Gbl._minX = center.x - gridWidth * Gbl.TILESIZE * 0.5 + Gbl.TILESIZE * 0.5;\n    Gbl._minY = center.y - gridHeight * Gbl.TILESIZE * 0.5 + Gbl.TILESIZE * 0.5;\n\n  } // init\n\n  public static gridToWorld (x:number, y:number):Phaser.Point {\n    return new Phaser.Point(Gbl._minX + x * Gbl.TILESIZE, Gbl._minY + y * Gbl.TILESIZE);\n\n  } // gridToWorld\n\n  public static worldToGrid (x:number, y:number):Phaser.Point {\n    return new Phaser.Point(Math.floor((x - Gbl._minX) / Gbl.TILESIZE), Math.floor((y - Gbl._minY) / Gbl.TILESIZE));\n\n  } // worldToGrid\n\n} // Gbl\n","\nimport { BootState } from './states/bootState';\nimport { GameState } from './states/gameState';\nimport { PreloadState } from './states/preloadState';\n\nclass Main extends Phaser.Game {\n\n  constructor () {\n    super(800, 600, Phaser.AUTO, 'container');\n\n    this.state.add('boot', BootState);\n    this.state.add('preload', PreloadState);\n    this.state.add('game', GameState);\n\n    this.state.start('boot');\n  \n  } // constructor\n\n} // Main\n\nwindow.onload = () => {\n  new Main();\n};\n","export enum MatchColor {\n  BLUE,\n  GREEN,\n  RED,\n  YELLOW,\n  NONE,\n\n} // MatchColor\n","import { Actor } from './actor';\nimport { ActorType } from './actorType';\nimport { MatchColor } from './matchColor';\nimport { GameState } from './states/gameState';\n\nexport class Snake {\n\n  public body:Actor[];\n  public alive:boolean = true;\n\n  public currentDirection:Phaser.Point;\n\n  private readonly ZERO:Phaser.Point = new Phaser.Point(0, 0);\n\n  private _state:GameState;\n  \n  constructor (state:GameState, x:number, y:number, length:number, prevBody:Actor[] = null) {\n    this._state = state;\n    this.body = [];\n    this.currentDirection = new Phaser.Point(0, 1);\n    \n    if (prevBody) {\n      this.body = prevBody;\n      this.updateSprites();\n    } else {\n      for (let i:number = 0; i < length; i++) {\n        const part:Actor = state.actorGroup.getFirstExists(false);\n        part.reset(0, 0);\n        const color:MatchColor = this._getRndColor();\n        if (i === 0) {\n          part.init(x, y - i, color, ActorType.HEAD, 'head_end');\n          part.angle = 180;\n        } else if (i === length - 1) {\n          part.init(x, y - i, color, ActorType.BODY, 'body_end');\n        } else {\n          part.init(x, y - i, color, ActorType.BODY, 'body_middle');\n        }\n        this.body.push(part);\n      }\n    }\n    \n  } // constructor\n\n  public updateSnake (newDirection:Phaser.Point):void {\n    if (this.validDirection(newDirection)) {\n      this.currentDirection.set(newDirection.x, newDirection.y);\n    }\n\n    const oldPos:Phaser.Point = new Phaser.Point();\n    const newPos:Phaser.Point = Phaser.Point.add(this.body[0].gridPosition, this.currentDirection);\n    \n    for (const part of this.body) {\n      oldPos.x = part.gridPosition.x;\n      oldPos.y = part.gridPosition.y;\n      part.updatePosition(newPos.x, newPos.y);\n      newPos.x = oldPos.x;\n      newPos.y = oldPos.y;\n    }\n    this.updateSprites();\n\n  } // updateSnake\n\n  public hit (x:number, y:number):boolean {\n    let hit:boolean = false;\n    for (const part of this.body) {\n      if (part.gridPosition.x === x && part.gridPosition.y === y) {\n        hit = true;\n      }\n    }\n\n    return hit;\n\n  } // hit\n\n  public updateSprites ():void {\n    for (let i:number = 0; i < this.body.length; i++) {\n      const part:Actor = this.body[i];\n      this._setSprite(i, part);\n    }\n\n  } // updateSprites\n\n  public moveDown ():void {\n    for (const part of this.body) {\n      part.updatePosition(part.gridPosition.x, part.gridPosition.y + 1);\n    }\n\n  } // moveDown\n\n  public validDirection (direction:Phaser.Point):boolean {\n    return !Phaser.Point.add(this.currentDirection, direction).equals(this.ZERO);\n\n  } // _validDirection\n\n  private _setSprite (index:number, part:Actor):void {\n    const pos:Phaser.Point = this.body[index].gridPosition;\n    let nextPos:Phaser.Point;\n    let prevPos:Phaser.Point;\n    if (index === 0) {\n      if (this.body.length === 1) {\n        if (part.actoryType === ActorType.HEAD) {\n          part.updateFrame('head_single');\n        } else {\n          part.updateFrame('body_single');\n        }\n      } else {\n        nextPos = this.body[index + 1].gridPosition;\n        if (part.actoryType === ActorType.HEAD) {\n          part.updateFrame('head_end');\n        } else {\n          part.updateFrame('body_end');\n        }\n        if (nextPos.x > pos.x) {\n          part.angle = 270;\n        } else if (nextPos.x < pos.x) {\n          part.angle = 90;\n        } else if (nextPos.y > pos.y) {\n          part.angle = 0;\n        } else if (nextPos.y < pos.y) {\n          part.angle = 180;\n        }\n      }\n    } else if (index === this.body.length - 1) {\n      prevPos = this.body[index - 1].gridPosition;\n      part.updateFrame('body_end');\n      if (prevPos.x > pos.x) {\n        part.angle = 270;\n      } else if (prevPos.x < pos.x) {\n        part.angle = 90;\n      } else if (prevPos.y > pos.y) {\n        part.angle = 0;\n      } else if (prevPos.y < pos.y) {\n        part.angle = 180;\n      }\n    } else {\n      nextPos = this.body[index + 1].gridPosition;\n      prevPos = this.body[index - 1].gridPosition;\n      if (nextPos.x === prevPos.x || nextPos.y === prevPos.y) {\n        part.updateFrame('body_middle');\n        part.angle = 0;\n      } else {\n        part.updateFrame('body_corner');\n        if ((pos.x - nextPos.x === 1 && pos.y - prevPos.y === 1) ||\n          (pos.x - prevPos.x === 1 && pos.y - nextPos.y === 1)) {\n          part.angle = 180;\n        } else if ((pos.x - nextPos.x === -1 && pos.y - prevPos.y === 1) ||\n          (pos.x - prevPos.x === -1 && pos.y - nextPos.y === 1)) {\n          part.angle = 270;\n        } else if ((pos.x - nextPos.x === -1 && pos.y - prevPos.y === -1) ||\n          (pos.x - prevPos.x === -1 && pos.y - nextPos.y === -1)) {\n          part.angle = 0;\n        } else if ((pos.x - nextPos.x === 1 && pos.y - prevPos.y === -1) ||\n          (pos.x - prevPos.x === 1 && pos.y - nextPos.y === -1)) {\n          part.angle = 90;\n        }\n      }\n    }\n\n  } // _setSprite\n\n  private _getRndColor ():MatchColor {\n    const nr:number = this._state.rnd.between(0, 3);\n    \n    return nr;\n  }\n\n} // _getRndColor\n","\nexport class BootState extends Phaser.State {\n\n  public preload ():void {\n    this.scale.pageAlignHorizontally = true;\n    this.scale.pageAlignVertically = true;\n    this.time.advancedTiming = true;\n\n  } // preload\n\n  public create ():void {\n    this.state.start('preload');\n\n  } // create\n\n} // BootState\n","import { Actor } from '../actor';\nimport { ActorType } from '../actorType';\nimport { Gbl } from '../gbl';\nimport { MatchColor } from '../matchColor';\nimport { Snake } from '../snake';\n\nexport class GameState extends Phaser.State {\n\n  public actorGroup:Phaser.Group;\n\n  private _gridWidth:number = 15;\n  private _gridHeight:number = 24;\n\n  private _moveDelay:number = 350;\n  private _moveTimer:number = 0;\n\n  private _fallDelay:number = 30;\n  private _fallTimer:number = 0;\n\n  private _newDirection:Phaser.Point;\n\n  private _currentSnake:Snake;\n\n  private _grid:MatchColor[][];\n\n  private _targets:Actor[];\n  private _deadSnakes:Snake[];\n\n  private _nrOfTargets:number = 8;\n  private _minSnakeLength:number = 2;\n  private _maxSnakeLength:number = 5;\n\n  private _startPos:Phaser.Point = new Phaser.Point(7, 0);\n\n  private _handelingMatches:boolean = false;\n  private _movingSnakes:boolean = false;\n\n  private _gameOver:boolean = false;\n\n  public create ():void {\n    Gbl.init(this._gridWidth, this._gridHeight,\n      new Phaser.Point(this.game.world.centerX, this.game.world.centerY));\n    \n    const background:Phaser.Sprite = this.game.add.sprite(\n      this.game.world.centerX, this.game.world.centerY, 'grid');\n    background.anchor.set(0.5);\n\n    this.actorGroup = this.add.group();\n    for (let i:number = 0; i < 300; i++) {\n      const actor:Actor = new Actor(this.game, 'sprites');\n      this.actorGroup.add(actor);\n      actor.kill();\n    }\n\n    const border:Phaser.Sprite = this.game.add.sprite(\n      this.game.world.centerX, this.game.world.centerY, 'border');\n    border.anchor.set(0.5);\n\n    this._grid = [];\n    for (let y:number = 0; y < this._gridHeight; y++) {\n      const row:MatchColor[] = [];\n      for (let x:number = 0; x < this._gridWidth; x++) {\n        row.push(MatchColor.NONE);\n      }\n      this._grid.push(row);\n    }\n\n    this._deadSnakes = [];\n    this._setTargets(this._nrOfTargets);\n\n    this._newDirection = new Phaser.Point(0, 1);\n\n    this._createSnake();\n\n  } // create\n\n  public update ():void {\n    if (this._gameOver) {\n      if (this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)) {\n        // load menu here\n      }\n      return;\n    }\n    if (this._movingSnakes) {\n      if (this._fallTimer < this._fallDelay) {\n        this._fallTimer += this.game.time.elapsed;\n      } else {\n        this._fallTimer = 0;\n        this._moveSnakesDown();\n      }\n    }\n    if (this._handelingMatches) {\n      return;\n    }\n\n    if (this.game.input.keyboard.isDown(Phaser.Keyboard.LEFT)) {\n      this._newDirection.set(-1, 0);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.RIGHT)) {\n      this._newDirection.set(1, 0);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.UP)) {\n      this._newDirection.set(0, -1);\n    } else if (this.game.input.keyboard.isDown(Phaser.Keyboard.DOWN)) {\n      this._newDirection.set(0, 1);\n    }\n    if (this._moveTimer < this._moveDelay) {\n      this._moveTimer += this.game.time.elapsed;\n    } else {\n      this._moveTimer = 0;\n      let nextPos:Phaser.Point;\n      if (this._currentSnake.validDirection(this._newDirection)) {\n        nextPos = Phaser.Point.add(this._currentSnake.body[0].gridPosition, this._newDirection);\n      } else {\n        nextPos = Phaser.Point.add(this._currentSnake.body[0].gridPosition, this._currentSnake.currentDirection);\n      }\n      \n      if (!this._hitBounds(nextPos.x, nextPos.y) && this._positionFree(nextPos.x, nextPos.y) &&\n        !this._currentSnake.hit(nextPos.x, nextPos.y)) {\n\n        this._currentSnake.updateSnake(this._newDirection);\n      } else {\n        for (const part of this._currentSnake.body) {\n          if (part.gridPosition.y < 0) {\n            this._gameOver = true;\n          }\n        }\n        this._deadSnakes.push(this._currentSnake);\n        this._currentSnake = null;\n        this._handelingMatches = true;\n        this._movingSnakes = true;\n        this._fallTimer = 0;\n      }\n    }\n  } // update\n\n  public render ():void {\n    this.game.debug.text(this.time.fps.toString() || '--', 2, 14, '#00ff00');\n\n  } // render\n\n  private _createSnake ():void {\n    if (this._grid[this._startPos.y][this._startPos.x] !== MatchColor.NONE) {\n      this._gameOver = true;\n    }\n    this._moveTimer = 0;\n    this._newDirection.set(0, 1);\n    this._currentSnake = new Snake(this, this._startPos.x, this._startPos.y,\n      this.rnd.between(this._minSnakeLength, this._maxSnakeLength));\n  }\n\n  private _clearGrid ():void {\n    for (let y:number = 0; y < this._gridHeight; y++) {\n      for (let x:number = 0; x < this._gridWidth; x++) {\n        this._grid[y][x] = MatchColor.NONE;\n      }\n    }\n\n  } // _clearGrid\n\n  private _hitBounds (x:number, y:number):boolean {\n    return x < 0 || x >= this._gridWidth || y < 0 || y >= this._gridHeight;\n\n  } // _hitBounds\n\n  private _positionFree (x:number, y:number):boolean {\n    return this._grid[y][x] === MatchColor.NONE;\n\n  } // _positionFree\n\n  private _setTargets (nrOfTargets:number):void {\n    this._targets = [];\n    for (let i:number = 0; i < nrOfTargets; i++) {\n      let foundPos:boolean = false;\n      let rndX:number;\n      let rndY:number;\n      while (!foundPos) {\n        rndX = this.rnd.between(0, this._gridWidth - 1);\n        rndY = this.rnd.between(7, this._gridHeight - 1);\n        if (this._grid[rndY][rndX] === MatchColor.NONE) {\n          foundPos = true;\n          const color:MatchColor = this.rnd.between(0, 3);\n          const target:Actor = this.actorGroup.getFirstExists(false);\n          target.reset(0, 0);\n          target.init(rndX, rndY, color, ActorType.TARGET, 'target');\n          this._grid[rndY][rndX] = color;\n          this._targets.push(target);\n        }\n      }\n    }\n\n  } // _setTargets\n\n  private _moveSnakesDown ():void {\n    let foundSnakeToMove:boolean = false;\n    for (const snake of this._deadSnakes) {\n      const body:Actor[] = snake.body;\n      const lowPositions:Phaser.Point[] = [];\n      for (const part of body) {\n        const x:number = part.gridPosition.x;\n        const y:number = part.gridPosition.y + 1;\n        if (!snake.hit(x, y)) {\n          lowPositions.push(new Phaser.Point(x, y));\n        }\n      }\n\n      let canMove:boolean = true;\n      for (const pos of lowPositions) {\n        if (pos.y >= this._gridHeight || this._grid[pos.y][pos.x] !== MatchColor.NONE) {\n          canMove = false;\n          break;\n        }\n      }\n\n      if (canMove) {\n        for (const part of body) {\n          const pos:Phaser.Point = part.gridPosition;\n          this._grid[pos.y][pos.x] = MatchColor.NONE;\n        }\n        snake.moveDown();\n        foundSnakeToMove = true;\n      }\n      for (const part of body) {\n        const pos:Phaser.Point = part.gridPosition;\n        this._grid[pos.y][pos.x] = part.color;\n      }\n    }\n\n    if (!foundSnakeToMove) {\n      if (this._getMatches()) {\n        this._moveSnakesDown();\n      } else {\n        this._handelingMatches = false;\n        this._movingSnakes = false;\n        this._createSnake();\n      }\n    }\n  }\n\n  private _getMatches ():boolean {\n    let colorPositions:Phaser.Point[] = [];\n    let currentColor:MatchColor;\n    const positionsMatched:Phaser.Point[] = [];\n\n    for (let y:number = 0; y < this._gridHeight; y++) {\n      colorPositions = [new Phaser.Point(0, y)];\n      currentColor = this._grid[y][0];\n      for (let x:number = 1; x < this._gridWidth; x++) {\n        const color:MatchColor = this._grid[y][x];\n        if (color === MatchColor.NONE || color !== currentColor) {\n          if (colorPositions.length >= 4) {\n            for (const c of colorPositions) {\n              positionsMatched.push(new Phaser.Point(c.x, c.y));\n            }\n          }\n          colorPositions = [new Phaser.Point(x, y)];\n          currentColor = color;\n        } else if (x === this._gridWidth - 1) {\n          colorPositions.push(new Phaser.Point(x, y));\n          if (colorPositions.length >= 4) {\n            for (const c of colorPositions) {\n              positionsMatched.push(new Phaser.Point(c.x, c.y));\n            }\n          }\n        } else {\n          colorPositions.push(new Phaser.Point(x, y));\n        }\n      }\n    }\n\n    for (let x:number = 0; x < this._gridWidth; x++) {\n      colorPositions = [new Phaser.Point(x, 0)];\n      currentColor = this._grid[0][x];\n      for (let y:number = 1; y < this._gridHeight; y++) {\n        const color:MatchColor = this._grid[y][x];\n        if (color === MatchColor.NONE || color !== currentColor) {\n          if (colorPositions.length >= 4) {\n            for (const c of colorPositions) {\n              positionsMatched.push(new Phaser.Point(c.x, c.y));\n            }\n          }\n          colorPositions = [new Phaser.Point(x, y)];\n          currentColor = color;\n        } else if (y === this._gridHeight - 1) {\n          colorPositions.push(new Phaser.Point(x, y));\n          if (colorPositions.length >= 4) {\n            for (const c of colorPositions) {\n              positionsMatched.push(new Phaser.Point(c.x, c.y));\n            }\n          }\n        } else {\n          colorPositions.push(new Phaser.Point(x, y));\n        }\n      }\n    }\n\n    this._removeMatches(positionsMatched);\n\n    return positionsMatched.length > 0;\n\n  } // _handleMatches\n\n  private _removeMatches (positionsMatched:Phaser.Point[]):void {\n    for (const pos of positionsMatched) {\n      let hitTarget:boolean = false;\n      for (const target of this._targets) {\n        if (pos.equals(target.gridPosition)) {\n          hitTarget = true;\n          target.kill();\n          this._targets.splice(this._targets.indexOf(target), 1);\n          this._grid[pos.y][pos.x] = MatchColor.NONE;\n          break;\n        }\n      }\n\n      if (!hitTarget) {\n        for (const snake of this._deadSnakes) {\n          for (const part of snake.body) {\n            if (part) {\n              if (pos.equals(part.gridPosition)) {\n                part.kill();\n                this._grid[pos.y][pos.x] = MatchColor.NONE;\n                break;\n              }\n            }\n            \n          }\n        }\n      }\n    }\n\n    const newSnakes:Actor[][] = [];\n    for (const snake of this._deadSnakes) {\n      let parts:Actor[] = [];\n      for (let i:number = 0; i < snake.body.length; i++) {\n        const part:Actor = snake.body[i];\n        if (!part.alive) {\n          if (parts.length > 0) {\n            newSnakes.push(parts);\n            parts = [];\n          }\n        } else if (i === snake.body.length - 1) {\n          parts.push(part);\n          newSnakes.push(parts);\n        } else {\n          parts.push(part);\n        }\n      }\n    }\n    this._deadSnakes = [];\n    for (const newSnake of newSnakes) {\n      const snake:Snake = new Snake(this, 0, 0, 0, newSnake);\n      this._deadSnakes.push(snake);\n    }\n  }\n\n} // GameState\n","\nexport class PreloadState extends Phaser.State {\n\n  public preload ():void {\n    this.load.image('grid', 'assets/images/grid.png');\n    this.load.image('border', 'assets/images/border.png');\n\n    this.load.atlasJSONArray('sprites', 'assets/images/sprites.png', 'assets/images/sprites.json');\n    \n  } // preload\n\n  public create ():void {\n    this.state.start('game');\n\n  } // create\n\n} // PreloadState\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYWN0b3IudHMiLCJzcmMvYWN0b3JUeXBlLnRzIiwic3JjL2dibC50cyIsInNyYy9tYWluLnRzIiwic3JjL21hdGNoQ29sb3IudHMiLCJzcmMvc25ha2UudHMiLCJzcmMvc3RhdGVzL2Jvb3RTdGF0ZS50cyIsInNyYy9zdGF0ZXMvZ2FtZVN0YXRlLnRzIiwic3JjL3N0YXRlcy9wcmVsb2FkU3RhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7OztBQ0NBLG9CQUE0QjtBQUM1QiwyQkFBMEMsQUFFMUM7O0lBQW1COzs7QUFVakIsbUJBQWEsQUFBZ0IsTUFBRSxBQUFZO0FBQ3pDLEFBQUs7O2tIQUFDLEFBQUksTUFBRSxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUM7O0FBQ2xCLEFBQUksY0FBQyxBQUFNLFNBQUcsQUFBSyxBQUFDO0FBQ3BCLEFBQUksY0FBQyxBQUFXLFlBQUMsQUFBSSxNQUFDLEFBQU0sQUFBQyxBQUFDO0FBQzlCLEFBQUksY0FBQyxBQUFZLGVBQUcsSUFBSSxBQUFNLE9BQUMsQUFBSyxBQUFFLEFBQUM7QUFDdkMsQUFBSSxjQUFDLEFBQU0sT0FBQyxBQUFHLElBQUMsQUFBRyxBQUFDLEFBQUM7QUFDckIsQUFBSSxhQUFDLEFBQUcsSUFBQyxBQUFRLEFBQUMsQUFBSSxBQUFDLEFBQUMsQUFDMUI7O0FBQUMsQUFFTSxBQUFJOzs7OzZCQUFFLEFBQVEsR0FBRSxBQUFRLEdBQUUsQUFBZ0IsT0FBRSxBQUFtQixXQUFFLEFBQWE7QUFDbkYsQUFBSSxpQkFBQyxBQUFjLGVBQUMsQUFBQyxHQUFFLEFBQUMsQUFBQyxBQUFDO0FBQzFCLEFBQUksaUJBQUMsQUFBSyxRQUFHLEFBQUssQUFBQztBQUNuQixBQUFJLGlCQUFDLEFBQVUsYUFBRyxBQUFTLEFBQUM7QUFDNUIsQUFBSSxpQkFBQyxBQUFXLFlBQUMsQUFBTSxBQUFDLEFBQUMsQUFDM0I7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QUMsQUFBSyxBQUFDLEFBQUM7QUFDOUIsQUFDSDs7Ozs7Ozs7Ozs7Ozs7O0FBQUMsQUFFRjs7OztFQTVWOEIsQUFBTSxPQUFDLEFBQUssUUE0VnpDLEFBQVk7OztBQTVWZCxvQkE0VkM7Ozs7Ozs7Ozs7Ozs7c0RDaldEOztJQUEwQjs7Ozs7Ozs7Ozs7O0FBR3RCLEFBQUksaUJBQUMsQUFBSSxLQUFDLEFBQUssTUFBQyxBQUFNLFFBQUUsQUFBd0IsQUFBQyxBQUFDO0FBQ2xELEFBQUksaUJBQUMsQUFBSSxLQUFDLEFBQUssTUFBQyxBQUFRLFVBQUUsQUFBMEIsQUFBQyxBQUFDO0FBRXRELEFBQUksaUJBQUMsQUFBSSxLQUFDLEFBQWMsZUFBQyxBQUFTLFdBQUUsQUFBMkIsNkJBQUUsQUFBNEIsQUFBQyxBQUFDLEFBRWpHO0FBQUMsVUFBQyxBQUFVLEFBRUwsQUFBTTs7Ozs7QUFDWCxBQUFJLGlCQUFDLEFBQUssTUFBQyxBQUFLLE1BQUMsQUFBTSxBQUFDLEFBQUMsQUFFM0I7QUFBQyxVQUFDLEFBQVMsQUFFWjs7Ozs7RUFmaUMsQUFBTSxPQUFDLEFBQUssQUFFckMsQUFBTyxRQWFkLEFBQWU7OztBQWZqQix1QkFlQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IEFjdG9yVHlwZSB9IGZyb20gJy4vYWN0b3JUeXBlJztcbmltcG9ydCB7IEdibCB9IGZyb20gJy4vZ2JsJztcbmltcG9ydCB7IE1hdGNoQ29sb3IgfSBmcm9tICcuL21hdGNoQ29sb3InO1xuXG5leHBvcnQgY2xhc3MgQWN0b3IgZXh0ZW5kcyBQaGFzZXIuU3ByaXRlIHtcblxuICBwdWJsaWMgZ3JpZFBvc2l0aW9uOlBoYXNlci5Qb2ludDtcblxuICBwdWJsaWMgY29sb3I6TWF0Y2hDb2xvcjtcblxuICBwdWJsaWMgYWN0b3J5VHlwZTpBY3RvclR5cGU7XG5cbiAgcHJpdmF0ZSBfc2hlZXQ6c3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yIChnYW1lOlBoYXNlci5HYW1lLCBzaGVldDpzdHJpbmcpIHtcbiAgICBzdXBlcihnYW1lLCAwLCAwKTtcbiAgICB0aGlzLl9zaGVldCA9IHNoZWV0O1xuICAgIHRoaXMubG9hZFRleHR1cmUodGhpcy5fc2hlZXQpO1xuICAgIHRoaXMuZ3JpZFBvc2l0aW9uID0gbmV3IFBoYXNlci5Qb2ludCgpO1xuICAgIHRoaXMuYW5jaG9yLnNldCgwLjUpO1xuICAgIGdhbWUuYWRkLmV4aXN0aW5nKHRoaXMpO1xuICB9XG5cbiAgcHVibGljIGluaXQgKHg6bnVtYmVyLCB5Om51bWJlciwgY29sb3I6TWF0Y2hDb2xvciwgYWN0b3JUeXBlOkFjdG9yVHlwZSwgc3ByaXRlOnN0cmluZyk6dm9pZCB7XG4gICAgdGhpcy51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgdGhpcy5hY3RvcnlUeXBlID0gYWN0b3JUeXBlO1xuICAgIHRoaXMudXBkYXRlRnJhbWUoc3ByaXRlKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVQb3NpdGlvbiAoeDpudW1iZXIsIHk6bnVtYmVyKTp2b2lkIHtcbiAgICB0aGlzLmdyaWRQb3NpdGlvbi54ID0geDtcbiAgICB0aGlzLmdyaWRQb3NpdGlvbi55ID0geTtcbiAgICBjb25zdCB3b3JsZFBvczpQaGFzZXIuUG9pbnQgPSBHYmwuZ3JpZFRvV29ybGQoeCwgeSk7XG4gICAgdGhpcy54ID0gd29ybGRQb3MueDtcbiAgICB0aGlzLnkgPSB3b3JsZFBvcy55O1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZUZyYW1lIChzcHJpdGU6c3RyaW5nKTp2b2lkIHtcbiAgICB0aGlzLmZyYW1lTmFtZSA9IHRoaXMuX2dldENvbG9yU3RyaW5nKHNwcml0ZSk7XG4gIH1cblxuICBwdWJsaWMgX2dldENvbG9yU3RyaW5nIChuYW1lOnN0cmluZyk6c3RyaW5nIHtcbiAgICBsZXQgc3RyaW5nTmFtZTpzdHJpbmcgPSBuYW1lO1xuXG4gICAgc3dpdGNoICh0aGlzLmNvbG9yKSB7XG4gICAgICBjYXNlIE1hdGNoQ29sb3IuQkxVRTpcbiAgICAgICAgc3RyaW5nTmFtZSArPSAnX2JsdWUnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNYXRjaENvbG9yLkdSRUVOOlxuICAgICAgICBzdHJpbmdOYW1lICs9ICdfZ3JlZW4nO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNYXRjaENvbG9yLlJFRDpcbiAgICAgICAgc3RyaW5nTmFtZSArPSAnX3JlZCc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1hdGNoQ29sb3IuWUVMTE9XOlxuICAgICAgICBzdHJpbmdOYW1lICs9ICdfeWVsbG93JztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ05hbWU7XG4gIH1cblxufVxuIiwiXG5leHBvcnQgZW51bSBBY3RvclR5cGUge1xuICBIRUFELFxuICBCT0RZLFxuICBUQVJHRVQsXG5cbn0gLy8gQWN0b3JUeXBlXG4iLCJcbmV4cG9ydCBjbGFzcyBHYmwge1xuICBwdWJsaWMgc3RhdGljIHJlYWRvbmx5IFRJTEVTSVpFOm51bWJlciA9IDI0O1xuICBcbiAgcHVibGljIHN0YXRpYyBncmlkV2lkdGg6bnVtYmVyO1xuICBwdWJsaWMgc3RhdGljIGdyaWRIZWlnaHQ6bnVtYmVyO1xuXG4gIHByaXZhdGUgc3RhdGljIF9taW5YOm51bWJlcjtcbiAgcHJpdmF0ZSBzdGF0aWMgX21pblk6bnVtYmVyO1xuXG4gIHB1YmxpYyBzdGF0aWMgaW5pdCAoZ3JpZFdpZHRoOm51bWJlciwgZ3JpZEhlaWdodDpudW1iZXIsIGNlbnRlcjpQaGFzZXIuUG9pbnQpOnZvaWQge1xuICAgIEdibC5ncmlkV2lkdGggPSBncmlkV2lkdGg7XG4gICAgR2JsLmdyaWRIZWlnaHQgPSBncmlkSGVpZ2h0O1xuXG4gICAgR2JsLl9taW5YID0gY2VudGVyLnggLSBncmlkV2lkdGggKiBHYmwuVElMRVNJWkUgKiAwLjUgKyBHYmwuVElMRVNJWkUgKiAwLjU7XG4gICAgR2JsLl9taW5ZID0gY2VudGVyLnkgLSBncmlkSGVpZ2h0ICogR2JsLlRJTEVTSVpFICogMC41ICsgR2JsLlRJTEVTSVpFICogMC41O1xuXG4gIH0gLy8gaW5pdFxuXG4gIHB1YmxpYyBzdGF0aWMgZ3JpZFRvV29ybGQgKHg6bnVtYmVyLCB5Om51bWJlcik6UGhhc2VyLlBvaW50IHtcbiAgICByZXR1cm4gbmV3IFBoYXNlci5Qb2ludChHYmwuX21pblggKyB4ICogR2JsLlRJTEVTSVpFLCBHYmwuX21pblkgKyB5ICogR2JsLlRJTEVTSVpFKTtcblxuICB9IC8vIGdyaWRUb1dvcmxkXG5cbiAgcHVibGljIHN0YXRpYyB3b3JsZFRvR3JpZCAoeDpudW1iZXIsIHk6bnVtYmVyKTpQaGFzZXIuUG9pbnQge1xuICAgIHJldHVybiBuZXcgUGhhc2VyLlBvaW50KE1hdGguZmxvb3IoKHggLSBHYmwuX21pblgpIC8gR2JsLlRJTEVTSVpFKSwgTWF0aC5mbG9vcigoeSAtIEdibC5fbWluWSkgLyBHYmwuVElMRVNJWkUpKTtcblxuICB9IC8vIHdvcmxkVG9HcmlkXG5cbn0gLy8gR2JsXG4iLCJcbmltcG9ydCB7IEJvb3RTdGF0ZSB9IGZyb20gJy4vc3RhdGVzL2Jvb3RTdGF0ZSc7XG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL3N0YXRlcy9nYW1lU3RhdGUnO1xuaW1wb3J0IHsgUHJlbG9hZFN0YXRlIH0gZnJvbSAnLi9zdGF0ZXMvcHJlbG9hZFN0YXRlJztcblxuY2xhc3MgTWFpbiBleHRlbmRzIFBoYXNlci5HYW1lIHtcblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgc3VwZXIoODAwLCA2MDAsIFBoYXNlci5BVVRPLCAnY29udGFpbmVyJyk7XG5cbiAgICB0aGlzLnN0YXRlLmFkZCgnYm9vdCcsIEJvb3RTdGF0ZSk7XG4gICAgdGhpcy5zdGF0ZS5hZGQoJ3ByZWxvYWQnLCBQcmVsb2FkU3RhdGUpO1xuICAgIHRoaXMuc3RhdGUuYWRkKCdnYW1lJywgR2FtZVN0YXRlKTtcblxuICAgIHRoaXMuc3RhdGUuc3RhcnQoJ2Jvb3QnKTtcbiAgXG4gIH0gLy8gY29uc3RydWN0b3JcblxufSAvLyBNYWluXG5cbndpbmRvdy5vbmxvYWQgPSAoKSA9PiB7XG4gIG5ldyBNYWluKCk7XG59O1xuIiwiZXhwb3J0IGVudW0gTWF0Y2hDb2xvciB7XG4gIEJMVUUsXG4gIEdSRUVOLFxuICBSRUQsXG4gIFlFTExPVyxcbiAgTk9ORSxcblxufSAvLyBNYXRjaENvbG9yXG4iLCJpbXBvcnQgeyBBY3RvciB9IGZyb20gJy4vYWN0b3InO1xuaW1wb3J0IHsgQWN0b3JUeXBlIH0gZnJvbSAnLi9hY3RvclR5cGUnO1xuaW1wb3J0IHsgTWF0Y2hDb2xvciB9IGZyb20gJy4vbWF0Y2hDb2xvcic7XG5pbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL3N0YXRlcy9nYW1lU3RhdGUnO1xuXG5leHBvcnQgY2xhc3MgU25ha2Uge1xuXG4gIHB1YmxpYyBib2R5OkFjdG9yW107XG4gIHB1YmxpYyBhbGl2ZTpib29sZWFuID0gdHJ1ZTtcblxuICBwdWJsaWMgY3VycmVudERpcmVjdGlvbjpQaGFzZXIuUG9pbnQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBaRVJPOlBoYXNlci5Qb2ludCA9IG5ldyBQaGFzZXIuUG9pbnQoMCwgMCk7XG5cbiAgcHJpdmF0ZSBfc3RhdGU6R2FtZVN0YXRlO1xuICBcbiAgY29uc3RydWN0b3IgKHN0YXRlOkdhbWVTdGF0ZSwgeDpudW1iZXIsIHk6bnVtYmVyLCBsZW5ndGg6bnVtYmVyLCBwcmV2Qm9keTpBY3RvcltdID0gbnVsbCkge1xuICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5ib2R5ID0gW107XG4gICAgdGhpcy5jdXJyZW50RGlyZWN0aW9uID0gbmV3IFBoYXNlci5Qb2ludCgwLCAxKTtcbiAgICBcbiAgICBpZiAocHJldkJvZHkpIHtcbiAgICAgIHRoaXMuYm9keSA9IHByZXZCb2R5O1xuICAgICAgdGhpcy51cGRhdGVTcHJpdGVzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHBhcnQ6QWN0b3IgPSBzdGF0ZS5hY3Rvckdyb3VwLmdldEZpcnN0RXhpc3RzKGZhbHNlKTtcbiAgICAgICAgcGFydC5yZXNldCgwLCAwKTtcbiAgICAgICAgY29uc3QgY29sb3I6TWF0Y2hDb2xvciA9IHRoaXMuX2dldFJuZENvbG9yKCk7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgcGFydC5pbml0KHgsIHkgLSBpLCBjb2xvciwgQWN0b3JUeXBlLkhFQUQsICdoZWFkX2VuZCcpO1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAxODA7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHBhcnQuaW5pdCh4LCB5IC0gaSwgY29sb3IsIEFjdG9yVHlwZS5CT0RZLCAnYm9keV9lbmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0LmluaXQoeCwgeSAtIGksIGNvbG9yLCBBY3RvclR5cGUuQk9EWSwgJ2JvZHlfbWlkZGxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib2R5LnB1c2gocGFydCk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9IC8vIGNvbnN0cnVjdG9yXG5cbiAgcHVibGljIHVwZGF0ZVNuYWtlIChuZXdEaXJlY3Rpb246UGhhc2VyLlBvaW50KTp2b2lkIHtcbiAgICBpZiAodGhpcy52YWxpZERpcmVjdGlvbihuZXdEaXJlY3Rpb24pKSB7XG4gICAgICB0aGlzLmN1cnJlbnREaXJlY3Rpb24uc2V0KG5ld0RpcmVjdGlvbi54LCBuZXdEaXJlY3Rpb24ueSk7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkUG9zOlBoYXNlci5Qb2ludCA9IG5ldyBQaGFzZXIuUG9pbnQoKTtcbiAgICBjb25zdCBuZXdQb3M6UGhhc2VyLlBvaW50ID0gUGhhc2VyLlBvaW50LmFkZCh0aGlzLmJvZHlbMF0uZ3JpZFBvc2l0aW9uLCB0aGlzLmN1cnJlbnREaXJlY3Rpb24pO1xuICAgIFxuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLmJvZHkpIHtcbiAgICAgIG9sZFBvcy54ID0gcGFydC5ncmlkUG9zaXRpb24ueDtcbiAgICAgIG9sZFBvcy55ID0gcGFydC5ncmlkUG9zaXRpb24ueTtcbiAgICAgIHBhcnQudXBkYXRlUG9zaXRpb24obmV3UG9zLngsIG5ld1Bvcy55KTtcbiAgICAgIG5ld1Bvcy54ID0gb2xkUG9zLng7XG4gICAgICBuZXdQb3MueSA9IG9sZFBvcy55O1xuICAgIH1cbiAgICB0aGlzLnVwZGF0ZVNwcml0ZXMoKTtcblxuICB9IC8vIHVwZGF0ZVNuYWtlXG5cbiAgcHVibGljIGhpdCAoeDpudW1iZXIsIHk6bnVtYmVyKTpib29sZWFuIHtcbiAgICBsZXQgaGl0OmJvb2xlYW4gPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgdGhpcy5ib2R5KSB7XG4gICAgICBpZiAocGFydC5ncmlkUG9zaXRpb24ueCA9PT0geCAmJiBwYXJ0LmdyaWRQb3NpdGlvbi55ID09PSB5KSB7XG4gICAgICAgIGhpdCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGhpdDtcblxuICB9IC8vIGhpdFxuXG4gIHB1YmxpYyB1cGRhdGVTcHJpdGVzICgpOnZvaWQge1xuICAgIGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IHRoaXMuYm9keS5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcGFydDpBY3RvciA9IHRoaXMuYm9keVtpXTtcbiAgICAgIHRoaXMuX3NldFNwcml0ZShpLCBwYXJ0KTtcbiAgICB9XG5cbiAgfSAvLyB1cGRhdGVTcHJpdGVzXG5cbiAgcHVibGljIG1vdmVEb3duICgpOnZvaWQge1xuICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLmJvZHkpIHtcbiAgICAgIHBhcnQudXBkYXRlUG9zaXRpb24ocGFydC5ncmlkUG9zaXRpb24ueCwgcGFydC5ncmlkUG9zaXRpb24ueSArIDEpO1xuICAgIH1cblxuICB9IC8vIG1vdmVEb3duXG5cbiAgcHVibGljIHZhbGlkRGlyZWN0aW9uIChkaXJlY3Rpb246UGhhc2VyLlBvaW50KTpib29sZWFuIHtcbiAgICByZXR1cm4gIVBoYXNlci5Qb2ludC5hZGQodGhpcy5jdXJyZW50RGlyZWN0aW9uLCBkaXJlY3Rpb24pLmVxdWFscyh0aGlzLlpFUk8pO1xuXG4gIH0gLy8gX3ZhbGlkRGlyZWN0aW9uXG5cbiAgcHJpdmF0ZSBfc2V0U3ByaXRlIChpbmRleDpudW1iZXIsIHBhcnQ6QWN0b3IpOnZvaWQge1xuICAgIGNvbnN0IHBvczpQaGFzZXIuUG9pbnQgPSB0aGlzLmJvZHlbaW5kZXhdLmdyaWRQb3NpdGlvbjtcbiAgICBsZXQgbmV4dFBvczpQaGFzZXIuUG9pbnQ7XG4gICAgbGV0IHByZXZQb3M6UGhhc2VyLlBvaW50O1xuICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgaWYgKHRoaXMuYm9keS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYgKHBhcnQuYWN0b3J5VHlwZSA9PT0gQWN0b3JUeXBlLkhFQUQpIHtcbiAgICAgICAgICBwYXJ0LnVwZGF0ZUZyYW1lKCdoZWFkX3NpbmdsZScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2JvZHlfc2luZ2xlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQb3MgPSB0aGlzLmJvZHlbaW5kZXggKyAxXS5ncmlkUG9zaXRpb247XG4gICAgICAgIGlmIChwYXJ0LmFjdG9yeVR5cGUgPT09IEFjdG9yVHlwZS5IRUFEKSB7XG4gICAgICAgICAgcGFydC51cGRhdGVGcmFtZSgnaGVhZF9lbmQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0LnVwZGF0ZUZyYW1lKCdib2R5X2VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0UG9zLnggPiBwb3MueCkge1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAyNzA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFBvcy54IDwgcG9zLngpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gOTA7XG4gICAgICAgIH0gZWxzZSBpZiAobmV4dFBvcy55ID4gcG9zLnkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChuZXh0UG9zLnkgPCBwb3MueSkge1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAxODA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGluZGV4ID09PSB0aGlzLmJvZHkubGVuZ3RoIC0gMSkge1xuICAgICAgcHJldlBvcyA9IHRoaXMuYm9keVtpbmRleCAtIDFdLmdyaWRQb3NpdGlvbjtcbiAgICAgIHBhcnQudXBkYXRlRnJhbWUoJ2JvZHlfZW5kJyk7XG4gICAgICBpZiAocHJldlBvcy54ID4gcG9zLngpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDI3MDtcbiAgICAgIH0gZWxzZSBpZiAocHJldlBvcy54IDwgcG9zLngpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDkwO1xuICAgICAgfSBlbHNlIGlmIChwcmV2UG9zLnkgPiBwb3MueSkge1xuICAgICAgICBwYXJ0LmFuZ2xlID0gMDtcbiAgICAgIH0gZWxzZSBpZiAocHJldlBvcy55IDwgcG9zLnkpIHtcbiAgICAgICAgcGFydC5hbmdsZSA9IDE4MDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dFBvcyA9IHRoaXMuYm9keVtpbmRleCArIDFdLmdyaWRQb3NpdGlvbjtcbiAgICAgIHByZXZQb3MgPSB0aGlzLmJvZHlbaW5kZXggLSAxXS5ncmlkUG9zaXRpb247XG4gICAgICBpZiAobmV4dFBvcy54ID09PSBwcmV2UG9zLnggfHwgbmV4dFBvcy55ID09PSBwcmV2UG9zLnkpIHtcbiAgICAgICAgcGFydC51cGRhdGVGcmFtZSgnYm9keV9taWRkbGUnKTtcbiAgICAgICAgcGFydC5hbmdsZSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0LnVwZGF0ZUZyYW1lKCdib2R5X2Nvcm5lcicpO1xuICAgICAgICBpZiAoKHBvcy54IC0gbmV4dFBvcy54ID09PSAxICYmIHBvcy55IC0gcHJldlBvcy55ID09PSAxKSB8fFxuICAgICAgICAgIChwb3MueCAtIHByZXZQb3MueCA9PT0gMSAmJiBwb3MueSAtIG5leHRQb3MueSA9PT0gMSkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMTgwO1xuICAgICAgICB9IGVsc2UgaWYgKChwb3MueCAtIG5leHRQb3MueCA9PT0gLTEgJiYgcG9zLnkgLSBwcmV2UG9zLnkgPT09IDEpIHx8XG4gICAgICAgICAgKHBvcy54IC0gcHJldlBvcy54ID09PSAtMSAmJiBwb3MueSAtIG5leHRQb3MueSA9PT0gMSkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gMjcwO1xuICAgICAgICB9IGVsc2UgaWYgKChwb3MueCAtIG5leHRQb3MueCA9PT0gLTEgJiYgcG9zLnkgLSBwcmV2UG9zLnkgPT09IC0xKSB8fFxuICAgICAgICAgIChwb3MueCAtIHByZXZQb3MueCA9PT0gLTEgJiYgcG9zLnkgLSBuZXh0UG9zLnkgPT09IC0xKSkge1xuICAgICAgICAgIHBhcnQuYW5nbGUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKChwb3MueCAtIG5leHRQb3MueCA9PT0gMSAmJiBwb3MueSAtIHByZXZQb3MueSA9PT0gLTEpIHx8XG4gICAgICAgICAgKHBvcy54IC0gcHJldlBvcy54ID09PSAxICYmIHBvcy55IC0gbmV4dFBvcy55ID09PSAtMSkpIHtcbiAgICAgICAgICBwYXJ0LmFuZ2xlID0gOTA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgfSAvLyBfc2V0U3ByaXRlXG5cbiAgcHJpdmF0ZSBfZ2V0Um5kQ29sb3IgKCk6TWF0Y2hDb2xvciB7XG4gICAgY29uc3QgbnI6bnVtYmVyID0gdGhpcy5fc3RhdGUucm5kLmJldHdlZW4oMCwgMyk7XG4gICAgXG4gICAgcmV0dXJuIG5yO1xuICB9XG5cbn0gLy8gX2dldFJuZENvbG9yXG4iLCJcbmV4cG9ydCBjbGFzcyBCb290U3RhdGUgZXh0ZW5kcyBQaGFzZXIuU3RhdGUge1xuXG4gIHB1YmxpYyBwcmVsb2FkICgpOnZvaWQge1xuICAgIHRoaXMuc2NhbGUucGFnZUFsaWduSG9yaXpvbnRhbGx5ID0gdHJ1ZTtcbiAgICB0aGlzLnNjYWxlLnBhZ2VBbGlnblZlcnRpY2FsbHkgPSB0cnVlO1xuICAgIHRoaXMudGltZS5hZHZhbmNlZFRpbWluZyA9IHRydWU7XG5cbiAgfSAvLyBwcmVsb2FkXG5cbiAgcHVibGljIGNyZWF0ZSAoKTp2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnN0YXJ0KCdwcmVsb2FkJyk7XG5cbiAgfSAvLyBjcmVhdGVcblxufSAvLyBCb290U3RhdGVcbiIsImltcG9ydCB7IEFjdG9yIH0gZnJvbSAnLi4vYWN0b3InO1xuaW1wb3J0IHsgQWN0b3JUeXBlIH0gZnJvbSAnLi4vYWN0b3JUeXBlJztcbmltcG9ydCB7IEdibCB9IGZyb20gJy4uL2dibCc7XG5pbXBvcnQgeyBNYXRjaENvbG9yIH0gZnJvbSAnLi4vbWF0Y2hDb2xvcic7XG5pbXBvcnQgeyBTbmFrZSB9IGZyb20gJy4uL3NuYWtlJztcblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cbiAgcHVibGljIGFjdG9yR3JvdXA6UGhhc2VyLkdyb3VwO1xuXG4gIHByaXZhdGUgX2dyaWRXaWR0aDpudW1iZXIgPSAxNTtcbiAgcHJpdmF0ZSBfZ3JpZEhlaWdodDpudW1iZXIgPSAyNDtcblxuICBwcml2YXRlIF9tb3ZlRGVsYXk6bnVtYmVyID0gMzUwO1xuICBwcml2YXRlIF9tb3ZlVGltZXI6bnVtYmVyID0gMDtcblxuICBwcml2YXRlIF9mYWxsRGVsYXk6bnVtYmVyID0gMzA7XG4gIHByaXZhdGUgX2ZhbGxUaW1lcjpudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgX25ld0RpcmVjdGlvbjpQaGFzZXIuUG9pbnQ7XG5cbiAgcHJpdmF0ZSBfY3VycmVudFNuYWtlOlNuYWtlO1xuXG4gIHByaXZhdGUgX2dyaWQ6TWF0Y2hDb2xvcltdW107XG5cbiAgcHJpdmF0ZSBfdGFyZ2V0czpBY3RvcltdO1xuICBwcml2YXRlIF9kZWFkU25ha2VzOlNuYWtlW107XG5cbiAgcHJpdmF0ZSBfbnJPZlRhcmdldHM6bnVtYmVyID0gODtcbiAgcHJpdmF0ZSBfbWluU25ha2VMZW5ndGg6bnVtYmVyID0gMjtcbiAgcHJpdmF0ZSBfbWF4U25ha2VMZW5ndGg6bnVtYmVyID0gNTtcblxuICBwcml2YXRlIF9zdGFydFBvczpQaGFzZXIuUG9pbnQgPSBuZXcgUGhhc2VyLlBvaW50KDcsIDApO1xuXG4gIHByaXZhdGUgX2hhbmRlbGluZ01hdGNoZXM6Ym9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIF9tb3ZpbmdTbmFrZXM6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2dhbWVPdmVyOmJvb2xlYW4gPSBmYWxzZTtcblxuICBwdWJsaWMgY3JlYXRlICgpOnZvaWQge1xuICAgIEdibC5pbml0KHRoaXMuX2dyaWRXaWR0aCwgdGhpcy5fZ3JpZEhlaWdodCxcbiAgICAgIG5ldyBQaGFzZXIuUG9pbnQodGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZKSk7XG4gICAgXG4gICAgY29uc3QgYmFja2dyb3VuZDpQaGFzZXIuU3ByaXRlID0gdGhpcy5nYW1lLmFkZC5zcHJpdGUoXG4gICAgICB0aGlzLmdhbWUud29ybGQuY2VudGVyWCwgdGhpcy5nYW1lLndvcmxkLmNlbnRlclksICdncmlkJyk7XG4gICAgYmFja2dyb3VuZC5hbmNob3Iuc2V0KDAuNSk7XG5cbiAgICB0aGlzLmFjdG9yR3JvdXAgPSB0aGlzLmFkZC5ncm91cCgpO1xuICAgIGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IDMwMDsgaSsrKSB7XG4gICAgICBjb25zdCBhY3RvcjpBY3RvciA9IG5ldyBBY3Rvcih0aGlzLmdhbWUsICdzcHJpdGVzJyk7XG4gICAgICB0aGlzLmFjdG9yR3JvdXAuYWRkKGFjdG9yKTtcbiAgICAgIGFjdG9yLmtpbGwoKTtcbiAgICB9XG5cbiAgICBjb25zdCBib3JkZXI6UGhhc2VyLlNwcml0ZSA9IHRoaXMuZ2FtZS5hZGQuc3ByaXRlKFxuICAgICAgdGhpcy5nYW1lLndvcmxkLmNlbnRlclgsIHRoaXMuZ2FtZS53b3JsZC5jZW50ZXJZLCAnYm9yZGVyJyk7XG4gICAgYm9yZGVyLmFuY2hvci5zZXQoMC41KTtcblxuICAgIHRoaXMuX2dyaWQgPSBbXTtcbiAgICBmb3IgKGxldCB5Om51bWJlciA9IDA7IHkgPCB0aGlzLl9ncmlkSGVpZ2h0OyB5KyspIHtcbiAgICAgIGNvbnN0IHJvdzpNYXRjaENvbG9yW10gPSBbXTtcbiAgICAgIGZvciAobGV0IHg6bnVtYmVyID0gMDsgeCA8IHRoaXMuX2dyaWRXaWR0aDsgeCsrKSB7XG4gICAgICAgIHJvdy5wdXNoKE1hdGNoQ29sb3IuTk9ORSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9ncmlkLnB1c2gocm93KTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZWFkU25ha2VzID0gW107XG4gICAgdGhpcy5fc2V0VGFyZ2V0cyh0aGlzLl9uck9mVGFyZ2V0cyk7XG5cbiAgICB0aGlzLl9uZXdEaXJlY3Rpb24gPSBuZXcgUGhhc2VyLlBvaW50KDAsIDEpO1xuXG4gICAgdGhpcy5fY3JlYXRlU25ha2UoKTtcblxuICB9IC8vIGNyZWF0ZVxuXG4gIHB1YmxpYyB1cGRhdGUgKCk6dm9pZCB7XG4gICAgaWYgKHRoaXMuX2dhbWVPdmVyKSB7XG4gICAgICBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuU1BBQ0VCQVIpKSB7XG4gICAgICAgIC8vIGxvYWQgbWVudSBoZXJlXG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLl9tb3ZpbmdTbmFrZXMpIHtcbiAgICAgIGlmICh0aGlzLl9mYWxsVGltZXIgPCB0aGlzLl9mYWxsRGVsYXkpIHtcbiAgICAgICAgdGhpcy5fZmFsbFRpbWVyICs9IHRoaXMuZ2FtZS50aW1lLmVsYXBzZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9mYWxsVGltZXIgPSAwO1xuICAgICAgICB0aGlzLl9tb3ZlU25ha2VzRG93bigpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5faGFuZGVsaW5nTWF0Y2hlcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5MRUZUKSkge1xuICAgICAgdGhpcy5fbmV3RGlyZWN0aW9uLnNldCgtMSwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5SSUdIVCkpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMSwgMCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWUuaW5wdXQua2V5Ym9hcmQuaXNEb3duKFBoYXNlci5LZXlib2FyZC5VUCkpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMCwgLTEpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lLmlucHV0LmtleWJvYXJkLmlzRG93bihQaGFzZXIuS2V5Ym9hcmQuRE9XTikpIHtcbiAgICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMCwgMSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9tb3ZlVGltZXIgPCB0aGlzLl9tb3ZlRGVsYXkpIHtcbiAgICAgIHRoaXMuX21vdmVUaW1lciArPSB0aGlzLmdhbWUudGltZS5lbGFwc2VkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tb3ZlVGltZXIgPSAwO1xuICAgICAgbGV0IG5leHRQb3M6UGhhc2VyLlBvaW50O1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRTbmFrZS52YWxpZERpcmVjdGlvbih0aGlzLl9uZXdEaXJlY3Rpb24pKSB7XG4gICAgICAgIG5leHRQb3MgPSBQaGFzZXIuUG9pbnQuYWRkKHRoaXMuX2N1cnJlbnRTbmFrZS5ib2R5WzBdLmdyaWRQb3NpdGlvbiwgdGhpcy5fbmV3RGlyZWN0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRQb3MgPSBQaGFzZXIuUG9pbnQuYWRkKHRoaXMuX2N1cnJlbnRTbmFrZS5ib2R5WzBdLmdyaWRQb3NpdGlvbiwgdGhpcy5fY3VycmVudFNuYWtlLmN1cnJlbnREaXJlY3Rpb24pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXRoaXMuX2hpdEJvdW5kcyhuZXh0UG9zLngsIG5leHRQb3MueSkgJiYgdGhpcy5fcG9zaXRpb25GcmVlKG5leHRQb3MueCwgbmV4dFBvcy55KSAmJlxuICAgICAgICAhdGhpcy5fY3VycmVudFNuYWtlLmhpdChuZXh0UG9zLngsIG5leHRQb3MueSkpIHtcblxuICAgICAgICB0aGlzLl9jdXJyZW50U25ha2UudXBkYXRlU25ha2UodGhpcy5fbmV3RGlyZWN0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9jdXJyZW50U25ha2UuYm9keSkge1xuICAgICAgICAgIGlmIChwYXJ0LmdyaWRQb3NpdGlvbi55IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5fZ2FtZU92ZXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kZWFkU25ha2VzLnB1c2godGhpcy5fY3VycmVudFNuYWtlKTtcbiAgICAgICAgdGhpcy5fY3VycmVudFNuYWtlID0gbnVsbDtcbiAgICAgICAgdGhpcy5faGFuZGVsaW5nTWF0Y2hlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX21vdmluZ1NuYWtlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2ZhbGxUaW1lciA9IDA7XG4gICAgICB9XG4gICAgfVxuICB9IC8vIHVwZGF0ZVxuXG4gIHB1YmxpYyByZW5kZXIgKCk6dm9pZCB7XG4gICAgdGhpcy5nYW1lLmRlYnVnLnRleHQodGhpcy50aW1lLmZwcy50b1N0cmluZygpIHx8ICctLScsIDIsIDE0LCAnIzAwZmYwMCcpO1xuXG4gIH0gLy8gcmVuZGVyXG5cbiAgcHJpdmF0ZSBfY3JlYXRlU25ha2UgKCk6dm9pZCB7XG4gICAgaWYgKHRoaXMuX2dyaWRbdGhpcy5fc3RhcnRQb3MueV1bdGhpcy5fc3RhcnRQb3MueF0gIT09IE1hdGNoQ29sb3IuTk9ORSkge1xuICAgICAgdGhpcy5fZ2FtZU92ZXIgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlVGltZXIgPSAwO1xuICAgIHRoaXMuX25ld0RpcmVjdGlvbi5zZXQoMCwgMSk7XG4gICAgdGhpcy5fY3VycmVudFNuYWtlID0gbmV3IFNuYWtlKHRoaXMsIHRoaXMuX3N0YXJ0UG9zLngsIHRoaXMuX3N0YXJ0UG9zLnksXG4gICAgICB0aGlzLnJuZC5iZXR3ZWVuKHRoaXMuX21pblNuYWtlTGVuZ3RoLCB0aGlzLl9tYXhTbmFrZUxlbmd0aCkpO1xuICB9XG5cbiAgcHJpdmF0ZSBfY2xlYXJHcmlkICgpOnZvaWQge1xuICAgIGZvciAobGV0IHk6bnVtYmVyID0gMDsgeSA8IHRoaXMuX2dyaWRIZWlnaHQ7IHkrKykge1xuICAgICAgZm9yIChsZXQgeDpudW1iZXIgPSAwOyB4IDwgdGhpcy5fZ3JpZFdpZHRoOyB4KyspIHtcbiAgICAgICAgdGhpcy5fZ3JpZFt5XVt4XSA9IE1hdGNoQ29sb3IuTk9ORTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfSAvLyBfY2xlYXJHcmlkXG5cbiAgcHJpdmF0ZSBfaGl0Qm91bmRzICh4Om51bWJlciwgeTpudW1iZXIpOmJvb2xlYW4ge1xuICAgIHJldHVybiB4IDwgMCB8fCB4ID49IHRoaXMuX2dyaWRXaWR0aCB8fCB5IDwgMCB8fCB5ID49IHRoaXMuX2dyaWRIZWlnaHQ7XG5cbiAgfSAvLyBfaGl0Qm91bmRzXG5cbiAgcHJpdmF0ZSBfcG9zaXRpb25GcmVlICh4Om51bWJlciwgeTpudW1iZXIpOmJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9ncmlkW3ldW3hdID09PSBNYXRjaENvbG9yLk5PTkU7XG5cbiAgfSAvLyBfcG9zaXRpb25GcmVlXG5cbiAgcHJpdmF0ZSBfc2V0VGFyZ2V0cyAobnJPZlRhcmdldHM6bnVtYmVyKTp2b2lkIHtcbiAgICB0aGlzLl90YXJnZXRzID0gW107XG4gICAgZm9yIChsZXQgaTpudW1iZXIgPSAwOyBpIDwgbnJPZlRhcmdldHM7IGkrKykge1xuICAgICAgbGV0IGZvdW5kUG9zOmJvb2xlYW4gPSBmYWxzZTtcbiAgICAgIGxldCBybmRYOm51bWJlcjtcbiAgICAgIGxldCBybmRZOm51bWJlcjtcbiAgICAgIHdoaWxlICghZm91bmRQb3MpIHtcbiAgICAgICAgcm5kWCA9IHRoaXMucm5kLmJldHdlZW4oMCwgdGhpcy5fZ3JpZFdpZHRoIC0gMSk7XG4gICAgICAgIHJuZFkgPSB0aGlzLnJuZC5iZXR3ZWVuKDcsIHRoaXMuX2dyaWRIZWlnaHQgLSAxKTtcbiAgICAgICAgaWYgKHRoaXMuX2dyaWRbcm5kWV1bcm5kWF0gPT09IE1hdGNoQ29sb3IuTk9ORSkge1xuICAgICAgICAgIGZvdW5kUG9zID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBjb2xvcjpNYXRjaENvbG9yID0gdGhpcy5ybmQuYmV0d2VlbigwLCAzKTtcbiAgICAgICAgICBjb25zdCB0YXJnZXQ6QWN0b3IgPSB0aGlzLmFjdG9yR3JvdXAuZ2V0Rmlyc3RFeGlzdHMoZmFsc2UpO1xuICAgICAgICAgIHRhcmdldC5yZXNldCgwLCAwKTtcbiAgICAgICAgICB0YXJnZXQuaW5pdChybmRYLCBybmRZLCBjb2xvciwgQWN0b3JUeXBlLlRBUkdFVCwgJ3RhcmdldCcpO1xuICAgICAgICAgIHRoaXMuX2dyaWRbcm5kWV1bcm5kWF0gPSBjb2xvcjtcbiAgICAgICAgICB0aGlzLl90YXJnZXRzLnB1c2godGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICB9IC8vIF9zZXRUYXJnZXRzXG5cbiAgcHJpdmF0ZSBfbW92ZVNuYWtlc0Rvd24gKCk6dm9pZCB7XG4gICAgbGV0IGZvdW5kU25ha2VUb01vdmU6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGZvciAoY29uc3Qgc25ha2Ugb2YgdGhpcy5fZGVhZFNuYWtlcykge1xuICAgICAgY29uc3QgYm9keTpBY3RvcltdID0gc25ha2UuYm9keTtcbiAgICAgIGNvbnN0IGxvd1Bvc2l0aW9uczpQaGFzZXIuUG9pbnRbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIGJvZHkpIHtcbiAgICAgICAgY29uc3QgeDpudW1iZXIgPSBwYXJ0LmdyaWRQb3NpdGlvbi54O1xuICAgICAgICBjb25zdCB5Om51bWJlciA9IHBhcnQuZ3JpZFBvc2l0aW9uLnkgKyAxO1xuICAgICAgICBpZiAoIXNuYWtlLmhpdCh4LCB5KSkge1xuICAgICAgICAgIGxvd1Bvc2l0aW9ucy5wdXNoKG5ldyBQaGFzZXIuUG9pbnQoeCwgeSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBjYW5Nb3ZlOmJvb2xlYW4gPSB0cnVlO1xuICAgICAgZm9yIChjb25zdCBwb3Mgb2YgbG93UG9zaXRpb25zKSB7XG4gICAgICAgIGlmIChwb3MueSA+PSB0aGlzLl9ncmlkSGVpZ2h0IHx8IHRoaXMuX2dyaWRbcG9zLnldW3Bvcy54XSAhPT0gTWF0Y2hDb2xvci5OT05FKSB7XG4gICAgICAgICAgY2FuTW92ZSA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjYW5Nb3ZlKSB7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBib2R5KSB7XG4gICAgICAgICAgY29uc3QgcG9zOlBoYXNlci5Qb2ludCA9IHBhcnQuZ3JpZFBvc2l0aW9uO1xuICAgICAgICAgIHRoaXMuX2dyaWRbcG9zLnldW3Bvcy54XSA9IE1hdGNoQ29sb3IuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBzbmFrZS5tb3ZlRG93bigpO1xuICAgICAgICBmb3VuZFNuYWtlVG9Nb3ZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcGFydCBvZiBib2R5KSB7XG4gICAgICAgIGNvbnN0IHBvczpQaGFzZXIuUG9pbnQgPSBwYXJ0LmdyaWRQb3NpdGlvbjtcbiAgICAgICAgdGhpcy5fZ3JpZFtwb3MueV1bcG9zLnhdID0gcGFydC5jb2xvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWZvdW5kU25ha2VUb01vdmUpIHtcbiAgICAgIGlmICh0aGlzLl9nZXRNYXRjaGVzKCkpIHtcbiAgICAgICAgdGhpcy5fbW92ZVNuYWtlc0Rvd24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRlbGluZ01hdGNoZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbW92aW5nU25ha2VzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVNuYWtlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0TWF0Y2hlcyAoKTpib29sZWFuIHtcbiAgICBsZXQgY29sb3JQb3NpdGlvbnM6UGhhc2VyLlBvaW50W10gPSBbXTtcbiAgICBsZXQgY3VycmVudENvbG9yOk1hdGNoQ29sb3I7XG4gICAgY29uc3QgcG9zaXRpb25zTWF0Y2hlZDpQaGFzZXIuUG9pbnRbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgeTpudW1iZXIgPSAwOyB5IDwgdGhpcy5fZ3JpZEhlaWdodDsgeSsrKSB7XG4gICAgICBjb2xvclBvc2l0aW9ucyA9IFtuZXcgUGhhc2VyLlBvaW50KDAsIHkpXTtcbiAgICAgIGN1cnJlbnRDb2xvciA9IHRoaXMuX2dyaWRbeV1bMF07XG4gICAgICBmb3IgKGxldCB4Om51bWJlciA9IDE7IHggPCB0aGlzLl9ncmlkV2lkdGg7IHgrKykge1xuICAgICAgICBjb25zdCBjb2xvcjpNYXRjaENvbG9yID0gdGhpcy5fZ3JpZFt5XVt4XTtcbiAgICAgICAgaWYgKGNvbG9yID09PSBNYXRjaENvbG9yLk5PTkUgfHwgY29sb3IgIT09IGN1cnJlbnRDb2xvcikge1xuICAgICAgICAgIGlmIChjb2xvclBvc2l0aW9ucy5sZW5ndGggPj0gNCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGNvbG9yUG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uc01hdGNoZWQucHVzaChuZXcgUGhhc2VyLlBvaW50KGMueCwgYy55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbG9yUG9zaXRpb25zID0gW25ldyBQaGFzZXIuUG9pbnQoeCwgeSldO1xuICAgICAgICAgIGN1cnJlbnRDb2xvciA9IGNvbG9yO1xuICAgICAgICB9IGVsc2UgaWYgKHggPT09IHRoaXMuX2dyaWRXaWR0aCAtIDEpIHtcbiAgICAgICAgICBjb2xvclBvc2l0aW9ucy5wdXNoKG5ldyBQaGFzZXIuUG9pbnQoeCwgeSkpO1xuICAgICAgICAgIGlmIChjb2xvclBvc2l0aW9ucy5sZW5ndGggPj0gNCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGNvbG9yUG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uc01hdGNoZWQucHVzaChuZXcgUGhhc2VyLlBvaW50KGMueCwgYy55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbG9yUG9zaXRpb25zLnB1c2gobmV3IFBoYXNlci5Qb2ludCh4LCB5KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCB4Om51bWJlciA9IDA7IHggPCB0aGlzLl9ncmlkV2lkdGg7IHgrKykge1xuICAgICAgY29sb3JQb3NpdGlvbnMgPSBbbmV3IFBoYXNlci5Qb2ludCh4LCAwKV07XG4gICAgICBjdXJyZW50Q29sb3IgPSB0aGlzLl9ncmlkWzBdW3hdO1xuICAgICAgZm9yIChsZXQgeTpudW1iZXIgPSAxOyB5IDwgdGhpcy5fZ3JpZEhlaWdodDsgeSsrKSB7XG4gICAgICAgIGNvbnN0IGNvbG9yOk1hdGNoQ29sb3IgPSB0aGlzLl9ncmlkW3ldW3hdO1xuICAgICAgICBpZiAoY29sb3IgPT09IE1hdGNoQ29sb3IuTk9ORSB8fCBjb2xvciAhPT0gY3VycmVudENvbG9yKSB7XG4gICAgICAgICAgaWYgKGNvbG9yUG9zaXRpb25zLmxlbmd0aCA+PSA0KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGMgb2YgY29sb3JQb3NpdGlvbnMpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25zTWF0Y2hlZC5wdXNoKG5ldyBQaGFzZXIuUG9pbnQoYy54LCBjLnkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29sb3JQb3NpdGlvbnMgPSBbbmV3IFBoYXNlci5Qb2ludCh4LCB5KV07XG4gICAgICAgICAgY3VycmVudENvbG9yID0gY29sb3I7XG4gICAgICAgIH0gZWxzZSBpZiAoeSA9PT0gdGhpcy5fZ3JpZEhlaWdodCAtIDEpIHtcbiAgICAgICAgICBjb2xvclBvc2l0aW9ucy5wdXNoKG5ldyBQaGFzZXIuUG9pbnQoeCwgeSkpO1xuICAgICAgICAgIGlmIChjb2xvclBvc2l0aW9ucy5sZW5ndGggPj0gNCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGNvbG9yUG9zaXRpb25zKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uc01hdGNoZWQucHVzaChuZXcgUGhhc2VyLlBvaW50KGMueCwgYy55KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbG9yUG9zaXRpb25zLnB1c2gobmV3IFBoYXNlci5Qb2ludCh4LCB5KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9yZW1vdmVNYXRjaGVzKHBvc2l0aW9uc01hdGNoZWQpO1xuXG4gICAgcmV0dXJuIHBvc2l0aW9uc01hdGNoZWQubGVuZ3RoID4gMDtcblxuICB9IC8vIF9oYW5kbGVNYXRjaGVzXG5cbiAgcHJpdmF0ZSBfcmVtb3ZlTWF0Y2hlcyAocG9zaXRpb25zTWF0Y2hlZDpQaGFzZXIuUG9pbnRbXSk6dm9pZCB7XG4gICAgZm9yIChjb25zdCBwb3Mgb2YgcG9zaXRpb25zTWF0Y2hlZCkge1xuICAgICAgbGV0IGhpdFRhcmdldDpib29sZWFuID0gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiB0aGlzLl90YXJnZXRzKSB7XG4gICAgICAgIGlmIChwb3MuZXF1YWxzKHRhcmdldC5ncmlkUG9zaXRpb24pKSB7XG4gICAgICAgICAgaGl0VGFyZ2V0ID0gdHJ1ZTtcbiAgICAgICAgICB0YXJnZXQua2lsbCgpO1xuICAgICAgICAgIHRoaXMuX3RhcmdldHMuc3BsaWNlKHRoaXMuX3RhcmdldHMuaW5kZXhPZih0YXJnZXQpLCAxKTtcbiAgICAgICAgICB0aGlzLl9ncmlkW3Bvcy55XVtwb3MueF0gPSBNYXRjaENvbG9yLk5PTkU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFoaXRUYXJnZXQpIHtcbiAgICAgICAgZm9yIChjb25zdCBzbmFrZSBvZiB0aGlzLl9kZWFkU25ha2VzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHNuYWtlLmJvZHkpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0KSB7XG4gICAgICAgICAgICAgIGlmIChwb3MuZXF1YWxzKHBhcnQuZ3JpZFBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIHBhcnQua2lsbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dyaWRbcG9zLnldW3Bvcy54XSA9IE1hdGNoQ29sb3IuTk9ORTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgbmV3U25ha2VzOkFjdG9yW11bXSA9IFtdO1xuICAgIGZvciAoY29uc3Qgc25ha2Ugb2YgdGhpcy5fZGVhZFNuYWtlcykge1xuICAgICAgbGV0IHBhcnRzOkFjdG9yW10gPSBbXTtcbiAgICAgIGZvciAobGV0IGk6bnVtYmVyID0gMDsgaSA8IHNuYWtlLmJvZHkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcGFydDpBY3RvciA9IHNuYWtlLmJvZHlbaV07XG4gICAgICAgIGlmICghcGFydC5hbGl2ZSkge1xuICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBuZXdTbmFrZXMucHVzaChwYXJ0cyk7XG4gICAgICAgICAgICBwYXJ0cyA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpID09PSBzbmFrZS5ib2R5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgIG5ld1NuYWtlcy5wdXNoKHBhcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2RlYWRTbmFrZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG5ld1NuYWtlIG9mIG5ld1NuYWtlcykge1xuICAgICAgY29uc3Qgc25ha2U6U25ha2UgPSBuZXcgU25ha2UodGhpcywgMCwgMCwgMCwgbmV3U25ha2UpO1xuICAgICAgdGhpcy5fZGVhZFNuYWtlcy5wdXNoKHNuYWtlKTtcbiAgICB9XG4gIH1cblxufSAvLyBHYW1lU3RhdGVcbiIsIlxuZXhwb3J0IGNsYXNzIFByZWxvYWRTdGF0ZSBleHRlbmRzIFBoYXNlci5TdGF0ZSB7XG5cbiAgcHVibGljIHByZWxvYWQgKCk6dm9pZCB7XG4gICAgdGhpcy5sb2FkLmltYWdlKCdncmlkJywgJ2Fzc2V0cy9pbWFnZXMvZ3JpZC5wbmcnKTtcbiAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvcmRlcicsICdhc3NldHMvaW1hZ2VzL2JvcmRlci5wbmcnKTtcblxuICAgIHRoaXMubG9hZC5hdGxhc0pTT05BcnJheSgnc3ByaXRlcycsICdhc3NldHMvaW1hZ2VzL3Nwcml0ZXMucG5nJywgJ2Fzc2V0cy9pbWFnZXMvc3ByaXRlcy5qc29uJyk7XG4gICAgXG4gIH0gLy8gcHJlbG9hZFxuXG4gIHB1YmxpYyBjcmVhdGUgKCk6dm9pZCB7XG4gICAgdGhpcy5zdGF0ZS5zdGFydCgnZ2FtZScpO1xuXG4gIH0gLy8gY3JlYXRlXG5cbn0gLy8gUHJlbG9hZFN0YXRlXG4iXX0="}